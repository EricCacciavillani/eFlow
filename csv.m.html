<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>csv API documentation</title>
    <meta name="description" content="CSV parsing and writing.

This module provides classes that assist in the reading and writing
of Com..." />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sa { color: #BA2121 } /* Literal.String.Affix */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .dl { color: #BA2121 } /* Literal.String.Delimiter */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #0000FF } /* Name.Function.Magic */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .vm { color: #19177C } /* Name.Variable.Magic */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">
    <li class="set"><h3><a href="#header-variables">Module variables</a></h3>
      
  <ul>
    <li class="mono"><a href="#csv.QUOTE_ALL">QUOTE_ALL</a></li>
    <li class="mono"><a href="#csv.QUOTE_MINIMAL">QUOTE_MINIMAL</a></li>
    <li class="mono"><a href="#csv.QUOTE_NONE">QUOTE_NONE</a></li>
    <li class="mono"><a href="#csv.QUOTE_NONNUMERIC">QUOTE_NONNUMERIC</a></li>
    <li class="mono"><a href="#csv.__doc__">__doc__</a></li>
    <li class="mono"><a href="#csv.__version__">__version__</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>
      
  <ul>
    <li class="mono"><a href="#csv.field_size_limit">field_size_limit</a></li>
    <li class="mono"><a href="#csv.get_dialect">get_dialect</a></li>
    <li class="mono"><a href="#csv.list_dialects">list_dialects</a></li>
    <li class="mono"><a href="#csv.reader">reader</a></li>
    <li class="mono"><a href="#csv.register_dialect">register_dialect</a></li>
    <li class="mono"><a href="#csv.unregister_dialect">unregister_dialect</a></li>
    <li class="mono"><a href="#csv.writer">writer</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#csv.Dialect">Dialect</a></span>
        
          
  <ul>
    <li class="mono"><a href="#csv.Dialect.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#csv.DictReader">DictReader</a></span>
        
          
  <ul>
    <li class="mono"><a href="#csv.DictReader.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#csv.DictWriter">DictWriter</a></span>
        
          
  <ul>
    <li class="mono"><a href="#csv.DictWriter.__init__">__init__</a></li>
    <li class="mono"><a href="#csv.DictWriter.writeheader">writeheader</a></li>
    <li class="mono"><a href="#csv.DictWriter.writerow">writerow</a></li>
    <li class="mono"><a href="#csv.DictWriter.writerows">writerows</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#csv.Error">Error</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#csv.Sniffer">Sniffer</a></span>
        
          
  <ul>
    <li class="mono"><a href="#csv.Sniffer.__init__">__init__</a></li>
    <li class="mono"><a href="#csv.Sniffer.has_header">has_header</a></li>
    <li class="mono"><a href="#csv.Sniffer.sniff">sniff</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#csv.excel">excel</a></span>
        
          
  <ul>
    <li class="mono"><a href="#csv.excel.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#csv.excel_tab">excel_tab</a></span>
        
          
  <ul>
    <li class="mono"><a href="#csv.excel_tab.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#csv.unix_dialect">unix_dialect</a></span>
        
          
  <ul>
    <li class="mono"><a href="#csv.unix_dialect.__init__">__init__</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">csv</span> module</h1>
  <p>CSV parsing and writing.</p>
<p>This module provides classes that assist in the reading and writing
of Comma Separated Value (CSV) files, and implements the interface
described by PEP 305.  Although many CSV files are simple to parse,
the format is not formally defined by a stable specification and
is subtle enough that parsing lines of a CSV file with something
like line.split(",") is bound to fail.  The module supports three
basic APIs: reading, writing, and registration of dialects.</p>
<p>DIALECT REGISTRATION:</p>
<p>Readers and writers support a dialect argument, which is a convenient
handle on a group of settings.  When the dialect argument is a string,
it identifies one of the dialects previously registered with the module.
If it is a class or instance, the attributes of the argument are used as
the settings for the reader or writer:</p>
<div class="codehilite"><pre><span></span>class excel:
    delimiter = &#39;,&#39;
    quotechar = &#39;&quot;&#39;
    escapechar = None
    doublequote = True
    skipinitialspace = False
    lineterminator = &#39;\r\n&#39;
    quoting = QUOTE_MINIMAL
</pre></div>


<p>SETTINGS:</p>
<div class="codehilite"><pre><span></span><span class="o">*</span> <span class="nv">quotechar</span> <span class="o">-</span> <span class="nv">specifies</span> <span class="nv">a</span> <span class="nv">one</span><span class="o">-</span><span class="nv">character</span> <span class="nv">string</span> <span class="nv">to</span> <span class="nv">use</span> <span class="nv">as</span> <span class="nv">the</span> 
    <span class="nv">quoting</span> <span class="nv">character</span>.  <span class="nv">It</span> <span class="nv">defaults</span> <span class="nv">to</span> <span class="s1">&#39;</span><span class="s">&quot;</span><span class="s1">&#39;</span>.
<span class="o">*</span> <span class="nv">delimiter</span> <span class="o">-</span> <span class="nv">specifies</span> <span class="nv">a</span> <span class="nv">one</span><span class="o">-</span><span class="nv">character</span> <span class="nv">string</span> <span class="nv">to</span> <span class="nv">use</span> <span class="nv">as</span> <span class="nv">the</span> 
    <span class="nv">field</span> <span class="nv">separator</span>.  <span class="nv">It</span> <span class="nv">defaults</span> <span class="nv">to</span> <span class="s1">&#39;</span><span class="s">,</span><span class="s1">&#39;</span>.
<span class="o">*</span> <span class="nv">skipinitialspace</span> <span class="o">-</span> <span class="nv">specifies</span> <span class="nv">how</span> <span class="nv">to</span> <span class="nv">interpret</span> <span class="nv">whitespace</span> <span class="nv">which</span>
    <span class="nv">immediately</span> <span class="nv">follows</span> <span class="nv">a</span> <span class="nv">delimiter</span>.  <span class="nv">It</span> <span class="nv">defaults</span> <span class="nv">to</span> <span class="nv">False</span>, <span class="nv">which</span>
    <span class="nv">means</span> <span class="nv">that</span> <span class="nv">whitespace</span> <span class="nv">immediately</span> <span class="nv">following</span> <span class="nv">a</span> <span class="nv">delimiter</span> <span class="nv">is</span> <span class="nv">part</span>
    <span class="nv">of</span> <span class="nv">the</span> <span class="nv">following</span> <span class="nv">field</span>.
<span class="o">*</span> <span class="nv">lineterminator</span> <span class="o">-</span>  <span class="nv">specifies</span> <span class="nv">the</span> <span class="nv">character</span> <span class="nv">sequence</span> <span class="nv">which</span> <span class="nv">should</span> 
    <span class="nv">terminate</span> <span class="nv">rows</span>.
<span class="o">*</span> <span class="nv">quoting</span> <span class="o">-</span> <span class="nv">controls</span> <span class="nv">when</span> <span class="nv">quotes</span> <span class="nv">should</span> <span class="nv">be</span> <span class="nv">generated</span> <span class="nv">by</span> <span class="nv">the</span> <span class="nv">writer</span>.
    <span class="nv">It</span> <span class="nv">can</span> <span class="nv">take</span> <span class="nv">on</span> <span class="nv">any</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">following</span> <span class="nv">module</span> <span class="nv">constants</span>:

    <span class="nv">csv</span>.<span class="nv">QUOTE_MINIMAL</span> <span class="nv">means</span> <span class="nv">only</span> <span class="nv">when</span> <span class="nv">required</span>, <span class="k">for</span> <span class="nv">example</span>, <span class="nv">when</span> <span class="nv">a</span>
        <span class="nv">field</span> <span class="nv">contains</span> <span class="nv">either</span> <span class="nv">the</span> <span class="nv">quotechar</span> <span class="nv">or</span> <span class="nv">the</span> <span class="nv">delimiter</span>
    <span class="nv">csv</span>.<span class="nv">QUOTE_ALL</span> <span class="nv">means</span> <span class="nv">that</span> <span class="nv">quotes</span> <span class="nv">are</span> <span class="nv">always</span> <span class="nv">placed</span> <span class="nv">around</span> <span class="nv">fields</span>.
    <span class="nv">csv</span>.<span class="nv">QUOTE_NONNUMERIC</span> <span class="nv">means</span> <span class="nv">that</span> <span class="nv">quotes</span> <span class="nv">are</span> <span class="nv">always</span> <span class="nv">placed</span> <span class="nv">around</span>
        <span class="nv">fields</span> <span class="nv">which</span> <span class="k">do</span> <span class="nv">not</span> <span class="nv">parse</span> <span class="nv">as</span> <span class="nv">integers</span> <span class="nv">or</span> <span class="nv">floating</span> <span class="nv">point</span>
        <span class="nv">numbers</span>.
    <span class="nv">csv</span>.<span class="nv">QUOTE_NONE</span> <span class="nv">means</span> <span class="nv">that</span> <span class="nv">quotes</span> <span class="nv">are</span> <span class="nv">never</span> <span class="nv">placed</span> <span class="nv">around</span> <span class="nv">fields</span>.
<span class="o">*</span> <span class="nv">escapechar</span> <span class="o">-</span> <span class="nv">specifies</span> <span class="nv">a</span> <span class="nv">one</span><span class="o">-</span><span class="nv">character</span> <span class="nv">string</span> <span class="nv">used</span> <span class="nv">to</span> <span class="nv">escape</span> 
    <span class="nv">the</span> <span class="nv">delimiter</span> <span class="nv">when</span> <span class="nv">quoting</span> <span class="nv">is</span> <span class="nv">set</span> <span class="nv">to</span> <span class="nv">QUOTE_NONE</span>.
<span class="o">*</span> <span class="nv">doublequote</span> <span class="o">-</span> <span class="nv">controls</span> <span class="nv">the</span> <span class="nv">handling</span> <span class="nv">of</span> <span class="nv">quotes</span> <span class="nv">inside</span> <span class="nv">fields</span>.  <span class="nv">When</span>
    <span class="nv">True</span>, <span class="nv">two</span> <span class="nv">consecutive</span> <span class="nv">quotes</span> <span class="nv">are</span> <span class="nv">interpreted</span> <span class="nv">as</span> <span class="nv">one</span> <span class="nv">during</span> <span class="nv">read</span>,
    <span class="nv">and</span> <span class="nv">when</span> <span class="nv">writing</span>, <span class="nv">each</span> <span class="nv">quote</span> <span class="nv">character</span> <span class="nv">embedded</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">data</span> <span class="nv">is</span>
    <span class="nv">written</span> <span class="nv">as</span> <span class="nv">two</span> <span class="nv">quotes</span>
</pre></div>
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv', this);">Show source &equiv;</a></p>
  <div id="source-csv" class="source">
    <div class="codehilite"><pre><span></span><span class="s2">&quot;&quot;</span>
<span class="n">sv</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span> <span class="n">read</span><span class="o">/</span><span class="n">write</span><span class="o">/</span><span class="n">investigate</span> <span class="n">CSV</span> <span class="n">files</span>
<span class="s2">&quot;&quot;</span>
<span class="n">mport</span> <span class="n">re</span>
<span class="n">rom</span> <span class="n">_csv</span> <span class="kn">import</span> <span class="nn">Error</span><span class="o">,</span> <span class="nn">__version__</span><span class="o">,</span> <span class="nn">writer</span><span class="o">,</span> <span class="nn">reader</span><span class="o">,</span> <span class="nn">register_dialect</span><span class="o">,</span> \
                <span class="nn">unregister_dialect</span><span class="o">,</span> <span class="nn">get_dialect</span><span class="o">,</span> <span class="nn">list_dialects</span><span class="o">,</span> \
                <span class="nn">field_size_limit</span><span class="o">,</span> \
                <span class="nn">QUOTE_MINIMAL</span><span class="o">,</span> <span class="nn">QUOTE_ALL</span><span class="o">,</span> <span class="nn">QUOTE_NONNUMERIC</span><span class="o">,</span> <span class="nn">QUOTE_NONE</span><span class="o">,</span> \
                <span class="nn">__doc__</span>
<span class="n">rom</span> <span class="n">_csv</span> <span class="kn">import</span> <span class="nn">Dialect</span> <span class="kn">as</span> <span class="nn">_Dialect</span>
<span class="n">rom</span> <span class="n">collections</span> <span class="kn">import</span> <span class="nn">OrderedDict</span>
<span class="n">rom</span> <span class="n">io</span> <span class="kn">import</span> <span class="nn">StringIO</span>
<span class="n">_all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;QUOTE_MINIMAL&quot;</span><span class="p">,</span> <span class="s2">&quot;QUOTE_ALL&quot;</span><span class="p">,</span> <span class="s2">&quot;QUOTE_NONNUMERIC&quot;</span><span class="p">,</span> <span class="s2">&quot;QUOTE_NONE&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Dialect&quot;</span><span class="p">,</span> <span class="s2">&quot;__doc__&quot;</span><span class="p">,</span> <span class="s2">&quot;excel&quot;</span><span class="p">,</span> <span class="s2">&quot;excel_tab&quot;</span><span class="p">,</span>
          <span class="s2">&quot;field_size_limit&quot;</span><span class="p">,</span> <span class="s2">&quot;reader&quot;</span><span class="p">,</span> <span class="s2">&quot;writer&quot;</span><span class="p">,</span>
          <span class="s2">&quot;register_dialect&quot;</span><span class="p">,</span> <span class="s2">&quot;get_dialect&quot;</span><span class="p">,</span> <span class="s2">&quot;list_dialects&quot;</span><span class="p">,</span> <span class="s2">&quot;Sniffer&quot;</span><span class="p">,</span>
          <span class="s2">&quot;unregister_dialect&quot;</span><span class="p">,</span> <span class="s2">&quot;__version__&quot;</span><span class="p">,</span> <span class="s2">&quot;DictReader&quot;</span><span class="p">,</span> <span class="s2">&quot;DictWriter&quot;</span><span class="p">,</span>
          <span class="s2">&quot;unix_dialect&quot;</span><span class="p">]</span>
<span class="n">lass</span> <span class="n">Dialect</span><span class="p">:</span>
   <span class="sd">&quot;&quot;&quot;Describe a CSV dialect.</span>
<span class="sd">   This must be subclassed (see csv.excel).  Valid attributes are:</span>
<span class="sd">   delimiter, quotechar, escapechar, doublequote, skipinitialspace,</span>
<span class="sd">   lineterminator, quoting.</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="n">_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
   <span class="n">_valid</span> <span class="o">=</span> <span class="bp">False</span>
   <span class="c1"># placeholders</span>
   <span class="n">delimiter</span> <span class="o">=</span> <span class="bp">None</span>
   <span class="n">quotechar</span> <span class="o">=</span> <span class="bp">None</span>
   <span class="n">escapechar</span> <span class="o">=</span> <span class="bp">None</span>
   <span class="n">doublequote</span> <span class="o">=</span> <span class="bp">None</span>
   <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="bp">None</span>
   <span class="n">lineterminator</span> <span class="o">=</span> <span class="bp">None</span>
   <span class="n">quoting</span> <span class="o">=</span> <span class="bp">None</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">!=</span> <span class="n">Dialect</span><span class="p">:</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">_valid</span> <span class="o">=</span> <span class="bp">True</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">()</span>
   <span class="k">def</span> <span class="nf">_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="k">try</span><span class="p">:</span>
           <span class="n">_Dialect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
       <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
           <span class="c1"># We do this for compatibility with py2.3</span>
           <span class="k">raise</span> <span class="n">Error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="n">lass</span> <span class="n">excel</span><span class="p">(</span><span class="n">Dialect</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;Describe the usual properties of Excel-generated CSV files.&quot;&quot;&quot;</span>
   <span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
   <span class="n">quotechar</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span>
   <span class="n">doublequote</span> <span class="o">=</span> <span class="bp">True</span>
   <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="bp">False</span>
   <span class="n">lineterminator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">&#39;</span>
   <span class="n">quoting</span> <span class="o">=</span> <span class="n">QUOTE_MINIMAL</span>
<span class="n">egister_dialect</span><span class="p">(</span><span class="s2">&quot;excel&quot;</span><span class="p">,</span> <span class="n">excel</span><span class="p">)</span>
<span class="n">lass</span> <span class="n">excel_tab</span><span class="p">(</span><span class="n">excel</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;Describe the usual properties of Excel-generated TAB-delimited files.&quot;&quot;&quot;</span>
   <span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span>
<span class="n">egister_dialect</span><span class="p">(</span><span class="s2">&quot;excel-tab&quot;</span><span class="p">,</span> <span class="n">excel_tab</span><span class="p">)</span>
<span class="n">lass</span> <span class="n">unix_dialect</span><span class="p">(</span><span class="n">Dialect</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;Describe the usual properties of Unix-generated CSV files.&quot;&quot;&quot;</span>
   <span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
   <span class="n">quotechar</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span>
   <span class="n">doublequote</span> <span class="o">=</span> <span class="bp">True</span>
   <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="bp">False</span>
   <span class="n">lineterminator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
   <span class="n">quoting</span> <span class="o">=</span> <span class="n">QUOTE_ALL</span>
<span class="n">egister_dialect</span><span class="p">(</span><span class="s2">&quot;unix&quot;</span><span class="p">,</span> <span class="n">unix_dialect</span><span class="p">)</span>
<span class="n">lass</span> <span class="n">DictReader</span><span class="p">:</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">restkey</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">restval</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;excel&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span> <span class="o">=</span> <span class="n">fieldnames</span>   <span class="c1"># list of keys for the dict</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">restkey</span> <span class="o">=</span> <span class="n">restkey</span>          <span class="c1"># key to catch long rows</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">restval</span> <span class="o">=</span> <span class="n">restval</span>          <span class="c1"># default value for short rows</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">reader</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">dialect</span> <span class="o">=</span> <span class="n">dialect</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">line_num</span> <span class="o">=</span> <span class="mi">0</span>
   <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="k">return</span> <span class="bp">self</span>
   <span class="nd">@property</span>
   <span class="k">def</span> <span class="nf">fieldnames</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
           <span class="k">try</span><span class="p">:</span>
               <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="p">)</span>
           <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
               <span class="k">pass</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">line_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">line_num</span>
       <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span>
   <span class="nd">@fieldnames.setter</span>
   <span class="k">def</span> <span class="nf">fieldnames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span> <span class="o">=</span> <span class="n">value</span>
   <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
           <span class="c1"># Used only for its side effect.</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span>
       <span class="n">row</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">line_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">line_num</span>
       <span class="c1"># unlike the basic reader, we prefer not to return blanks,</span>
       <span class="c1"># because we will typically wind up with a dict full of None</span>
       <span class="c1"># values</span>
       <span class="k">while</span> <span class="n">row</span> <span class="o">==</span> <span class="p">[]:</span>
           <span class="n">row</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="p">)</span>
       <span class="n">d</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">,</span> <span class="n">row</span><span class="p">))</span>
       <span class="n">lf</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">)</span>
       <span class="n">lr</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
       <span class="k">if</span> <span class="n">lf</span> <span class="o">&lt;</span> <span class="n">lr</span><span class="p">:</span>
           <span class="n">d</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">restkey</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">lf</span><span class="p">:]</span>
       <span class="k">elif</span> <span class="n">lf</span> <span class="o">&gt;</span> <span class="n">lr</span><span class="p">:</span>
           <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">[</span><span class="n">lr</span><span class="p">:]:</span>
               <span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">restval</span>
       <span class="k">return</span> <span class="n">d</span>
<span class="n">lass</span> <span class="n">DictWriter</span><span class="p">:</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">fieldnames</span><span class="p">,</span> <span class="n">restval</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">extrasaction</span><span class="o">=</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span>
                <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;excel&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span> <span class="o">=</span> <span class="n">fieldnames</span>    <span class="c1"># list of keys for the dict</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">restval</span> <span class="o">=</span> <span class="n">restval</span>          <span class="c1"># for writing short dicts</span>
       <span class="k">if</span> <span class="n">extrasaction</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;ignore&quot;</span><span class="p">):</span>
           <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;extrasaction (</span><span class="si">%s</span><span class="s2">) must be &#39;raise&#39; or &#39;ignore&#39;&quot;</span>
                            <span class="o">%</span> <span class="n">extrasaction</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">extrasaction</span> <span class="o">=</span> <span class="n">extrasaction</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">writer</span> <span class="o">=</span> <span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">writeheader</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="n">header</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">))</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">_dict_to_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdict</span><span class="p">):</span>
       <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">extrasaction</span> <span class="o">==</span> <span class="s2">&quot;raise&quot;</span><span class="p">:</span>
           <span class="n">wrong_fields</span> <span class="o">=</span> <span class="n">rowdict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span>
           <span class="k">if</span> <span class="n">wrong_fields</span><span class="p">:</span>
               <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;dict contains fields not in fieldnames: &quot;</span>
                                <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">wrong_fields</span><span class="p">]))</span>
       <span class="k">return</span> <span class="p">(</span><span class="n">rowdict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">restval</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">writerow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdict</span><span class="p">):</span>
       <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dict_to_list</span><span class="p">(</span><span class="n">rowdict</span><span class="p">))</span>
   <span class="k">def</span> <span class="nf">writerows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdicts</span><span class="p">):</span>
       <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dict_to_list</span><span class="p">,</span> <span class="n">rowdicts</span><span class="p">))</span>
 <span class="n">Guard</span> <span class="n">Sniffer</span><span class="s1">&#39;s type checking against builds that exclude complex()</span>
<span class="n">ry</span><span class="p">:</span>
   <span class="nb">complex</span>
<span class="n">xcept</span> <span class="ne">NameError</span><span class="p">:</span>
   <span class="nb">complex</span> <span class="o">=</span> <span class="nb">float</span>
<span class="n">lass</span> <span class="n">Sniffer</span><span class="p">:</span>
   <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">   &quot;Sniffs&quot; the format of a CSV file (i.e. delimiter, quotechar)</span>
<span class="sd">   Returns a Dialect object.</span>
<span class="sd">   &#39;&#39;&#39;</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="c1"># in case there is more than one possible delimiter</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">preferred</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">]</span>
   <span class="k">def</span> <span class="nf">sniff</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="n">delimiters</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
       <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Returns a dialect (or None) corresponding to the sample</span>
<span class="sd">       &quot;&quot;&quot;</span>
       <span class="n">quotechar</span><span class="p">,</span> <span class="n">doublequote</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">,</span> <span class="n">skipinitialspace</span> <span class="o">=</span> \
                  <span class="bp">self</span><span class="o">.</span><span class="n">_guess_quote_and_delimiter</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">delimiters</span><span class="p">)</span>
       <span class="k">if</span> <span class="ow">not</span> <span class="n">delimiter</span><span class="p">:</span>
           <span class="n">delimiter</span><span class="p">,</span> <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guess_delimiter</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span>
                                                               <span class="n">delimiters</span><span class="p">)</span>
       <span class="k">if</span> <span class="ow">not</span> <span class="n">delimiter</span><span class="p">:</span>
           <span class="k">raise</span> <span class="n">Error</span><span class="p">(</span><span class="s2">&quot;Could not determine delimiter&quot;</span><span class="p">)</span>
       <span class="k">class</span> <span class="nc">dialect</span><span class="p">(</span><span class="n">Dialect</span><span class="p">):</span>
           <span class="n">_name</span> <span class="o">=</span> <span class="s2">&quot;sniffed&quot;</span>
           <span class="n">lineterminator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">&#39;</span>
           <span class="n">quoting</span> <span class="o">=</span> <span class="n">QUOTE_MINIMAL</span>
           <span class="c1"># escapechar = &#39;&#39;</span>
       <span class="n">dialect</span><span class="o">.</span><span class="n">doublequote</span> <span class="o">=</span> <span class="n">doublequote</span>
       <span class="n">dialect</span><span class="o">.</span><span class="n">delimiter</span> <span class="o">=</span> <span class="n">delimiter</span>
       <span class="c1"># _csv.reader won&#39;t accept a quotechar of &#39;&#39;</span>
       <span class="n">dialect</span><span class="o">.</span><span class="n">quotechar</span> <span class="o">=</span> <span class="n">quotechar</span> <span class="ow">or</span> <span class="s1">&#39;&quot;&#39;</span>
       <span class="n">dialect</span><span class="o">.</span><span class="n">skipinitialspace</span> <span class="o">=</span> <span class="n">skipinitialspace</span>
       <span class="k">return</span> <span class="n">dialect</span>
   <span class="k">def</span> <span class="nf">_guess_quote_and_delimiter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">delimiters</span><span class="p">):</span>
       <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Looks for text enclosed between two identical quotes</span>
<span class="sd">       (the probable quotechar) which are preceded and followed</span>
<span class="sd">       by the same character (the probable delimiter).</span>
<span class="sd">       For example:</span>
<span class="sd">                        ,&#39;some text&#39;,</span>
<span class="sd">       The quote with the most wins, same with the delimiter.</span>
<span class="sd">       If there is no quotechar the delimiter can&#39;t be determined</span>
<span class="sd">       this way.</span>
<span class="sd">       &quot;&quot;&quot;</span>
       <span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
       <span class="k">for</span> <span class="n">restr</span> <span class="ow">in</span> <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?P&lt;delim&gt;[^\w\n&quot;</span><span class="se">\&#39;</span><span class="s1">])(?P&lt;space&gt; ?)(?P&lt;quote&gt;[&quot;</span><span class="se">\&#39;</span><span class="s1">]).*?(?P=quote)(?P=delim)&#39;</span><span class="p">,</span> <span class="c1"># ,&quot;.*?&quot;,</span>
                     <span class="sa">r</span><span class="s1">&#39;(?:^|\n)(?P&lt;quote&gt;[&quot;</span><span class="se">\&#39;</span><span class="s1">]).*?(?P=quote)(?P&lt;delim&gt;[^\w\n&quot;</span><span class="se">\&#39;</span><span class="s1">])(?P&lt;space&gt; ?)&#39;</span><span class="p">,</span>   <span class="c1">#  &quot;.*?&quot;,</span>
                     <span class="sa">r</span><span class="s1">&#39;(?P&lt;delim&gt;[^\w\n&quot;</span><span class="se">\&#39;</span><span class="s1">])(?P&lt;space&gt; ?)(?P&lt;quote&gt;[&quot;</span><span class="se">\&#39;</span><span class="s1">]).*?(?P=quote)(?:$|\n)&#39;</span><span class="p">,</span>   <span class="c1"># ,&quot;.*?&quot;</span>
                     <span class="sa">r</span><span class="s1">&#39;(?:^|\n)(?P&lt;quote&gt;[&quot;</span><span class="se">\&#39;</span><span class="s1">]).*?(?P=quote)(?:$|\n)&#39;</span><span class="p">):</span>                            <span class="c1">#  &quot;.*?&quot; (no delim, no space)</span>
           <span class="n">regexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">restr</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
           <span class="n">matches</span> <span class="o">=</span> <span class="n">regexp</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
           <span class="k">if</span> <span class="n">matches</span><span class="p">:</span>
               <span class="k">break</span>
       <span class="k">if</span> <span class="ow">not</span> <span class="n">matches</span><span class="p">:</span>
           <span class="c1"># (quotechar, doublequote, delimiter, skipinitialspace)</span>
           <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
       <span class="n">quotes</span> <span class="o">=</span> <span class="p">{}</span>
       <span class="n">delims</span> <span class="o">=</span> <span class="p">{}</span>
       <span class="n">spaces</span> <span class="o">=</span> <span class="mi">0</span>
       <span class="n">groupindex</span> <span class="o">=</span> <span class="n">regexp</span><span class="o">.</span><span class="n">groupindex</span>
       <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
           <span class="n">n</span> <span class="o">=</span> <span class="n">groupindex</span><span class="p">[</span><span class="s1">&#39;quote&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
           <span class="n">key</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
           <span class="k">if</span> <span class="n">key</span><span class="p">:</span>
               <span class="n">quotes</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">quotes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
           <span class="k">try</span><span class="p">:</span>
               <span class="n">n</span> <span class="o">=</span> <span class="n">groupindex</span><span class="p">[</span><span class="s1">&#39;delim&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
               <span class="n">key</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
           <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
               <span class="k">continue</span>
           <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="p">(</span><span class="n">delimiters</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">delimiters</span><span class="p">):</span>
               <span class="n">delims</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">delims</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
           <span class="k">try</span><span class="p">:</span>
               <span class="n">n</span> <span class="o">=</span> <span class="n">groupindex</span><span class="p">[</span><span class="s1">&#39;space&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
           <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
               <span class="k">continue</span>
           <span class="k">if</span> <span class="n">m</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>
               <span class="n">spaces</span> <span class="o">+=</span> <span class="mi">1</span>
       <span class="n">quotechar</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">quotes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">quotes</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
       <span class="k">if</span> <span class="n">delims</span><span class="p">:</span>
           <span class="n">delim</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">delims</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">delims</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
           <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="n">delims</span><span class="p">[</span><span class="n">delim</span><span class="p">]</span> <span class="o">==</span> <span class="n">spaces</span>
           <span class="k">if</span> <span class="n">delim</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span> <span class="c1"># most likely a file with a single column</span>
               <span class="n">delim</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
       <span class="k">else</span><span class="p">:</span>
           <span class="c1"># there is *no* delimiter, it&#39;s a single column of quoted data</span>
           <span class="n">delim</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
           <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="mi">0</span>
       <span class="c1"># if we see an extra quote between delimiters, we&#39;ve got a</span>
       <span class="c1"># double quoted format</span>
       <span class="n">dq_regexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
                              <span class="sa">r</span><span class="s2">&quot;((</span><span class="si">%(delim)s</span><span class="s2">)|^)\W*</span><span class="si">%(quote)s</span><span class="s2">[^</span><span class="si">%(delim)s</span><span class="s2">\n]*</span><span class="si">%(quote)s</span><span class="s2">[^</span><span class="si">%(delim)s</span><span class="s2">\n]*</span><span class="si">%(quote)s</span><span class="s2">\W*((</span><span class="si">%(delim)s</span><span class="s2">)|$)&quot;</span> <span class="o">%</span> \
                              <span class="p">{</span><span class="s1">&#39;delim&#39;</span><span class="p">:</span><span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">delim</span><span class="p">),</span> <span class="s1">&#39;quote&#39;</span><span class="p">:</span><span class="n">quotechar</span><span class="p">},</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
       <span class="k">if</span> <span class="n">dq_regexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
           <span class="n">doublequote</span> <span class="o">=</span> <span class="bp">True</span>
       <span class="k">else</span><span class="p">:</span>
           <span class="n">doublequote</span> <span class="o">=</span> <span class="bp">False</span>
       <span class="k">return</span> <span class="p">(</span><span class="n">quotechar</span><span class="p">,</span> <span class="n">doublequote</span><span class="p">,</span> <span class="n">delim</span><span class="p">,</span> <span class="n">skipinitialspace</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">_guess_delimiter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">delimiters</span><span class="p">):</span>
       <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       The delimiter /should/ occur the same number of times on</span>
<span class="sd">       each row. However, due to malformed data, it may not. We don&#39;t want</span>
<span class="sd">       an all or nothing approach, so we allow for small variations in this</span>
<span class="sd">       number.</span>
<span class="sd">         1) build a table of the frequency of each character on every line.</span>
<span class="sd">         2) build a table of frequencies of this frequency (meta-frequency?),</span>
<span class="sd">            e.g.  &#39;x occurred 5 times in 10 rows, 6 times in 1000 rows,</span>
<span class="sd">            7 times in 2 rows&#39;</span>
<span class="sd">         3) use the mode of the meta-frequency to determine the /expected/</span>
<span class="sd">            frequency for that character</span>
<span class="sd">         4) find out how often the character actually meets that goal</span>
<span class="sd">         5) the character that best meets its goal is the delimiter</span>
<span class="sd">       For performance reasons, the data is evaluated in chunks, so it can</span>
<span class="sd">       try and evaluate the smallest portion of the data possible, evaluating</span>
<span class="sd">       additional chunks as necessary.</span>
<span class="sd">       &quot;&quot;&quot;</span>
       <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)))</span>
       <span class="n">ascii</span> <span class="o">=</span> <span class="p">[</span><span class="nb">chr</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">127</span><span class="p">)]</span> <span class="c1"># 7-bit ASCII</span>
       <span class="c1"># build frequency tables</span>
       <span class="n">chunkLength</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
       <span class="n">iteration</span> <span class="o">=</span> <span class="mi">0</span>
       <span class="n">charFrequency</span> <span class="o">=</span> <span class="p">{}</span>
       <span class="n">modes</span> <span class="o">=</span> <span class="p">{}</span>
       <span class="n">delims</span> <span class="o">=</span> <span class="p">{}</span>
       <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">chunkLength</span>
       <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
           <span class="n">iteration</span> <span class="o">+=</span> <span class="mi">1</span>
           <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]:</span>
               <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">ascii</span><span class="p">:</span>
                   <span class="n">metaFrequency</span> <span class="o">=</span> <span class="n">charFrequency</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="p">{})</span>
                   <span class="c1"># must count even if frequency is 0</span>
                   <span class="n">freq</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
                   <span class="c1"># value is the mode</span>
                   <span class="n">metaFrequency</span><span class="p">[</span><span class="n">freq</span><span class="p">]</span> <span class="o">=</span> <span class="n">metaFrequency</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
                   <span class="n">charFrequency</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="o">=</span> <span class="n">metaFrequency</span>
           <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">charFrequency</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
               <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">charFrequency</span><span class="p">[</span><span class="n">char</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
               <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                   <span class="k">continue</span>
               <span class="c1"># get the mode of the frequencies</span>
               <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                   <span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                   <span class="c1"># adjust the mode - subtract the sum of all</span>
                   <span class="c1"># other frequencies</span>
                   <span class="n">items</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">])</span>
                   <span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
                                  <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">))</span>
               <span class="k">else</span><span class="p">:</span>
                   <span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
           <span class="c1"># build a list of possible delimiters</span>
           <span class="n">modeList</span> <span class="o">=</span> <span class="n">modes</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
           <span class="n">total</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">chunkLength</span> <span class="o">*</span> <span class="n">iteration</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)))</span>
           <span class="c1"># (rows of consistent data) / (number of rows) = 100%</span>
           <span class="n">consistency</span> <span class="o">=</span> <span class="mf">1.0</span>
           <span class="c1"># minimum consistency threshold</span>
           <span class="n">threshold</span> <span class="o">=</span> <span class="mf">0.9</span>
           <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">delims</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">consistency</span> <span class="o">&gt;=</span> <span class="n">threshold</span><span class="p">:</span>
               <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">modeList</span><span class="p">:</span>
                   <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                       <span class="k">if</span> <span class="p">((</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">total</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">consistency</span> <span class="ow">and</span>
                           <span class="p">(</span><span class="n">delimiters</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">delimiters</span><span class="p">)):</span>
                           <span class="n">delims</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
               <span class="n">consistency</span> <span class="o">-=</span> <span class="mf">0.01</span>
           <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">delims</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
               <span class="n">delim</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">delims</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
               <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span> <span class="o">==</span>
                                   <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%c</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="n">delim</span><span class="p">))</span>
               <span class="k">return</span> <span class="p">(</span><span class="n">delim</span><span class="p">,</span> <span class="n">skipinitialspace</span><span class="p">)</span>
           <span class="c1"># analyze another chunkLength lines</span>
           <span class="n">start</span> <span class="o">=</span> <span class="n">end</span>
           <span class="n">end</span> <span class="o">+=</span> <span class="n">chunkLength</span>
       <span class="k">if</span> <span class="ow">not</span> <span class="n">delims</span><span class="p">:</span>
           <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
       <span class="c1"># if there&#39;s more than one, fall back to a &#39;preferred&#39; list</span>
       <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">delims</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
           <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred</span><span class="p">:</span>
               <span class="k">if</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">delims</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                   <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">==</span>
                                       <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%c</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="n">d</span><span class="p">))</span>
                   <span class="k">return</span> <span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">skipinitialspace</span><span class="p">)</span>
       <span class="c1"># nothing else indicates a preference, pick the character that</span>
       <span class="c1"># dominates(?)</span>
       <span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="n">v</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">delims</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
       <span class="n">items</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
       <span class="n">delim</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
       <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span> <span class="o">==</span>
                           <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%c</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="n">delim</span><span class="p">))</span>
       <span class="k">return</span> <span class="p">(</span><span class="n">delim</span><span class="p">,</span> <span class="n">skipinitialspace</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">has_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">):</span>
       <span class="c1"># Creates a dictionary of types of data in each column. If any</span>
       <span class="c1"># column is of a single type (say, integers), *except* for the first</span>
       <span class="c1"># row, then the first row is presumed to be labels. If the type</span>
       <span class="c1"># can&#39;t be determined, it is assumed to be a string in which case</span>
       <span class="c1"># the length of the string is the determining factor: if all of the</span>
       <span class="c1"># rows except for the first are the same length, it&#39;s a header.</span>
       <span class="c1"># Finally, a &#39;vote&#39; is taken at the end for each column, adding or</span>
       <span class="c1"># subtracting from the likelihood of the first row being a header.</span>
       <span class="n">rdr</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">sample</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">sniff</span><span class="p">(</span><span class="n">sample</span><span class="p">))</span>
       <span class="n">header</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">rdr</span><span class="p">)</span> <span class="c1"># assume first row is header</span>
       <span class="n">columns</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
       <span class="n">columnTypes</span> <span class="o">=</span> <span class="p">{}</span>
       <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">columns</span><span class="p">):</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
       <span class="n">checked</span> <span class="o">=</span> <span class="mi">0</span>
       <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rdr</span><span class="p">:</span>
           <span class="c1"># arbitrary number of rows to check, to keep it sane</span>
           <span class="k">if</span> <span class="n">checked</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
               <span class="k">break</span>
           <span class="n">checked</span> <span class="o">+=</span> <span class="mi">1</span>
           <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">!=</span> <span class="n">columns</span><span class="p">:</span>
               <span class="k">continue</span> <span class="c1"># skip rows that have irregular number of columns</span>
           <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">columnTypes</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
               <span class="k">for</span> <span class="n">thisType</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">]:</span>
                   <span class="k">try</span><span class="p">:</span>
                       <span class="n">thisType</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
                       <span class="k">break</span>
                   <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">OverflowError</span><span class="p">):</span>
                       <span class="k">pass</span>
               <span class="k">else</span><span class="p">:</span>
                   <span class="c1"># fallback to length of string</span>
                   <span class="n">thisType</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
               <span class="k">if</span> <span class="n">thisType</span> <span class="o">!=</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]:</span>
                   <span class="k">if</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="c1"># add new column type</span>
                       <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">thisType</span>
                   <span class="k">else</span><span class="p">:</span>
                       <span class="c1"># type is inconsistent, remove column from</span>
                       <span class="c1"># consideration</span>
                       <span class="k">del</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>
       <span class="c1"># finally, compare results against first row and &quot;vote&quot;</span>
       <span class="c1"># on whether it&#39;s a header</span>
       <span class="n">hasHeader</span> <span class="o">=</span> <span class="mi">0</span>
       <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">colType</span> <span class="ow">in</span> <span class="n">columnTypes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
           <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">colType</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span> <span class="c1"># it&#39;s a length</span>
               <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="n">col</span><span class="p">])</span> <span class="o">!=</span> <span class="n">colType</span><span class="p">:</span>
                   <span class="n">hasHeader</span> <span class="o">+=</span> <span class="mi">1</span>
               <span class="k">else</span><span class="p">:</span>
                   <span class="n">hasHeader</span> <span class="o">-=</span> <span class="mi">1</span>
           <span class="k">else</span><span class="p">:</span> <span class="c1"># attempt typecast</span>
               <span class="k">try</span><span class="p">:</span>
                   <span class="n">colType</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
               <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                   <span class="n">hasHeader</span> <span class="o">+=</span> <span class="mi">1</span>
               <span class="k">else</span><span class="p">:</span>
                   <span class="n">hasHeader</span> <span class="o">-=</span> <span class="mi">1</span>
       <span class="k">return</span> <span class="n">hasHeader</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">
    <h2 class="section-title" id="header-variables">Module variables</h2>
      <div class="item">
      <p id="csv.QUOTE_ALL" class="name">var <span class="ident">QUOTE_ALL</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="csv.QUOTE_MINIMAL" class="name">var <span class="ident">QUOTE_MINIMAL</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="csv.QUOTE_NONE" class="name">var <span class="ident">QUOTE_NONE</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="csv.QUOTE_NONNUMERIC" class="name">var <span class="ident">QUOTE_NONNUMERIC</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="csv.__doc__" class="name">var <span class="ident">__doc__</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="csv.__version__" class="name">var <span class="ident">__version__</span></p>
      
  
  <div class="source_cont">
</div>

      </div>

    <h2 class="section-title" id="header-functions">Functions</h2>
      
  <div class="item">
    <div class="name def" id="csv.field_size_limit">
    <p>def <span class="ident">field_size_limit</span>(</p><p>...)</p>
    </div>
    

    
  
    <div class="desc"><p>Sets an upper limit on parsed fields.
    csv.field_size_limit([limit])</p>
<p>Returns old limit. If limit is not given, no new limit is set and
the old limit is returned</p></div>
  <div class="source_cont">
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="csv.get_dialect">
    <p>def <span class="ident">get_dialect</span>(</p><p>...)</p>
    </div>
    

    
  
    <div class="desc"><p>Return the dialect instance associated with name.
dialect = csv.get_dialect(name)</p></div>
  <div class="source_cont">
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="csv.list_dialects">
    <p>def <span class="ident">list_dialects</span>(</p><p>...)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a list of all know dialect names.
names = csv.list_dialects()</p></div>
  <div class="source_cont">
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="csv.reader">
    <p>def <span class="ident">reader</span>(</p><p>...)</p>
    </div>
    

    
  
    <div class="desc"><p>csv_reader = reader(iterable [, dialect='excel']
                        [optional keyword args])
    for row in csv_reader:
        process(row)</p>
<p>The "iterable" argument can be any object that returns a line
of input for each iteration, such as a file object or a list.  The
optional "dialect" parameter is discussed below.  The function
also accepts optional keyword arguments which override settings
provided by the dialect.</p>
<p>The returned object is an iterator.  Each iteration returns a row
of the CSV file (which can span multiple input lines).</p></div>
  <div class="source_cont">
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="csv.register_dialect">
    <p>def <span class="ident">register_dialect</span>(</p><p>...)</p>
    </div>
    

    
  
    <div class="desc"><p>Create a mapping from a string name to a dialect class.
dialect = csv.register_dialect(name[, dialect[, **fmtparams]])</p></div>
  <div class="source_cont">
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="csv.unregister_dialect">
    <p>def <span class="ident">unregister_dialect</span>(</p><p>...)</p>
    </div>
    

    
  
    <div class="desc"><p>Delete the name/dialect mapping associated with a string name.
csv.unregister_dialect(name)</p></div>
  <div class="source_cont">
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="csv.writer">
    <p>def <span class="ident">writer</span>(</p><p>...)</p>
    </div>
    

    
  
    <div class="desc"><p>csv_writer = csv.writer(fileobj [, dialect='excel']
                            [optional keyword args])
    for row in sequence:
        csv_writer.writerow(row)</p>
<div class="codehilite"><pre><span></span><span class="k">[or]</span>

<span class="na">csv_writer</span> <span class="o">=</span> <span class="s">csv.writer(fileobj [, dialect=&#39;excel&#39;]</span>
<span class="s">                        [optional keyword args])</span>
<span class="na">csv_writer.writerows(rows)</span>
</pre></div>


<p>The "fileobj" argument can be any object that supports the file API.</p></div>
  <div class="source_cont">
</div>

  </div>
  

    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="csv.Dialect" class="name">class <span class="ident">Dialect</span></p>
      
  
    <div class="desc"><p>Describe a CSV dialect.</p>
<p>This must be subclassed (see csv.excel).  Valid attributes are:
delimiter, quotechar, escapechar, doublequote, skipinitialspace,
lineterminator, quoting.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.Dialect', this);">Show source &equiv;</a></p>
  <div id="source-csv.Dialect" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Dialect</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Describe a CSV dialect.</span>

<span class="sd">    This must be subclassed (see csv.excel).  Valid attributes are:</span>
<span class="sd">    delimiter, quotechar, escapechar, doublequote, skipinitialspace,</span>
<span class="sd">    lineterminator, quoting.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">_valid</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="c1"># placeholders</span>
    <span class="n">delimiter</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">quotechar</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">escapechar</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">doublequote</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">lineterminator</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">quoting</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">!=</span> <span class="n">Dialect</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_valid</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">_Dialect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># We do this for compatibility with py2.3</span>
            <span class="k">raise</span> <span class="n">Error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#csv.Dialect">Dialect</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="csv.Dialect.delimiter" class="name">var <span class="ident">delimiter</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.Dialect.doublequote" class="name">var <span class="ident">doublequote</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.Dialect.escapechar" class="name">var <span class="ident">escapechar</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.Dialect.lineterminator" class="name">var <span class="ident">lineterminator</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.Dialect.quotechar" class="name">var <span class="ident">quotechar</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.Dialect.quoting" class="name">var <span class="ident">quoting</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.Dialect.skipinitialspace" class="name">var <span class="ident">skipinitialspace</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="csv.Dialect.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize self.  See help(type(self)) for accurate signature.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.Dialect.__init__', this);">Show source &equiv;</a></p>
  <div id="source-csv.Dialect.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">!=</span> <span class="n">Dialect</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_valid</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="csv.DictReader" class="name">class <span class="ident">DictReader</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.DictReader', this);">Show source &equiv;</a></p>
  <div id="source-csv.DictReader" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">DictReader</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">restkey</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">restval</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;excel&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span> <span class="o">=</span> <span class="n">fieldnames</span>   <span class="c1"># list of keys for the dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">restkey</span> <span class="o">=</span> <span class="n">restkey</span>          <span class="c1"># key to catch long rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">restval</span> <span class="o">=</span> <span class="n">restval</span>          <span class="c1"># default value for short rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reader</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialect</span> <span class="o">=</span> <span class="n">dialect</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_num</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fieldnames</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">line_num</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span>

    <span class="nd">@fieldnames.setter</span>
    <span class="k">def</span> <span class="nf">fieldnames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># Used only for its side effect.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span>
        <span class="n">row</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">line_num</span>

        <span class="c1"># unlike the basic reader, we prefer not to return blanks,</span>
        <span class="c1"># because we will typically wind up with a dict full of None</span>
        <span class="c1"># values</span>
        <span class="k">while</span> <span class="n">row</span> <span class="o">==</span> <span class="p">[]:</span>
            <span class="n">row</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">,</span> <span class="n">row</span><span class="p">))</span>
        <span class="n">lf</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">)</span>
        <span class="n">lr</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">lf</span> <span class="o">&lt;</span> <span class="n">lr</span><span class="p">:</span>
            <span class="n">d</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">restkey</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">lf</span><span class="p">:]</span>
        <span class="k">elif</span> <span class="n">lf</span> <span class="o">&gt;</span> <span class="n">lr</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">[</span><span class="n">lr</span><span class="p">:]:</span>
                <span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">restval</span>
        <span class="k">return</span> <span class="n">d</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#csv.DictReader">DictReader</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="csv.DictReader.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, f, fieldnames=None, restkey=None, restval=None, dialect=&#39;excel&#39;, *args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize self.  See help(type(self)) for accurate signature.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.DictReader.__init__', this);">Show source &equiv;</a></p>
  <div id="source-csv.DictReader.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">restkey</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">restval</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
             <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;excel&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_fieldnames</span> <span class="o">=</span> <span class="n">fieldnames</span>   <span class="c1"># list of keys for the dict</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">restkey</span> <span class="o">=</span> <span class="n">restkey</span>          <span class="c1"># key to catch long rows</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">restval</span> <span class="o">=</span> <span class="n">restval</span>          <span class="c1"># default value for short rows</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reader</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dialect</span> <span class="o">=</span> <span class="n">dialect</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">line_num</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="csv.DictReader.dialect" class="name">var <span class="ident">dialect</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.DictReader.fieldnames" class="name">var <span class="ident">fieldnames</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.DictReader.line_num" class="name">var <span class="ident">line_num</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.DictReader.reader" class="name">var <span class="ident">reader</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.DictReader.restkey" class="name">var <span class="ident">restkey</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.DictReader.restval" class="name">var <span class="ident">restval</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="csv.DictWriter" class="name">class <span class="ident">DictWriter</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.DictWriter', this);">Show source &equiv;</a></p>
  <div id="source-csv.DictWriter" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">DictWriter</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">fieldnames</span><span class="p">,</span> <span class="n">restval</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">extrasaction</span><span class="o">=</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span>
                 <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;excel&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span> <span class="o">=</span> <span class="n">fieldnames</span>    <span class="c1"># list of keys for the dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">restval</span> <span class="o">=</span> <span class="n">restval</span>          <span class="c1"># for writing short dicts</span>
        <span class="k">if</span> <span class="n">extrasaction</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;ignore&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;extrasaction (</span><span class="si">%s</span><span class="s2">) must be &#39;raise&#39; or &#39;ignore&#39;&quot;</span>
                             <span class="o">%</span> <span class="n">extrasaction</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extrasaction</span> <span class="o">=</span> <span class="n">extrasaction</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writer</span> <span class="o">=</span> <span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">writeheader</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">header</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_dict_to_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdict</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">extrasaction</span> <span class="o">==</span> <span class="s2">&quot;raise&quot;</span><span class="p">:</span>
            <span class="n">wrong_fields</span> <span class="o">=</span> <span class="n">rowdict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span>
            <span class="k">if</span> <span class="n">wrong_fields</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;dict contains fields not in fieldnames: &quot;</span>
                                 <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">wrong_fields</span><span class="p">]))</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">rowdict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">restval</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">writerow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdict</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dict_to_list</span><span class="p">(</span><span class="n">rowdict</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">writerows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdicts</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dict_to_list</span><span class="p">,</span> <span class="n">rowdicts</span><span class="p">))</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#csv.DictWriter">DictWriter</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="csv.DictWriter.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, f, fieldnames, restval=&#39;&#39;, extrasaction=&#39;raise&#39;, dialect=&#39;excel&#39;, *args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize self.  See help(type(self)) for accurate signature.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.DictWriter.__init__', this);">Show source &equiv;</a></p>
  <div id="source-csv.DictWriter.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">fieldnames</span><span class="p">,</span> <span class="n">restval</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">extrasaction</span><span class="o">=</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span>
             <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;excel&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span> <span class="o">=</span> <span class="n">fieldnames</span>    <span class="c1"># list of keys for the dict</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">restval</span> <span class="o">=</span> <span class="n">restval</span>          <span class="c1"># for writing short dicts</span>
    <span class="k">if</span> <span class="n">extrasaction</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span> <span class="s2">&quot;ignore&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;extrasaction (</span><span class="si">%s</span><span class="s2">) must be &#39;raise&#39; or &#39;ignore&#39;&quot;</span>
                         <span class="o">%</span> <span class="n">extrasaction</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extrasaction</span> <span class="o">=</span> <span class="n">extrasaction</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writer</span> <span class="o">=</span> <span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="csv.DictWriter.writeheader">
    <p>def <span class="ident">writeheader</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.DictWriter.writeheader', this);">Show source &equiv;</a></p>
  <div id="source-csv.DictWriter.writeheader" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">writeheader</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">header</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="csv.DictWriter.writerow">
    <p>def <span class="ident">writerow</span>(</p><p>self, rowdict)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.DictWriter.writerow', this);">Show source &equiv;</a></p>
  <div id="source-csv.DictWriter.writerow" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">writerow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdict</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dict_to_list</span><span class="p">(</span><span class="n">rowdict</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="csv.DictWriter.writerows">
    <p>def <span class="ident">writerows</span>(</p><p>self, rowdicts)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.DictWriter.writerows', this);">Show source &equiv;</a></p>
  <div id="source-csv.DictWriter.writerows" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">writerows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdicts</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dict_to_list</span><span class="p">,</span> <span class="n">rowdicts</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="csv.DictWriter.extrasaction" class="name">var <span class="ident">extrasaction</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.DictWriter.fieldnames" class="name">var <span class="ident">fieldnames</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.DictWriter.restval" class="name">var <span class="ident">restval</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.DictWriter.writer" class="name">var <span class="ident">writer</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="csv.Error" class="name">class <span class="ident">Error</span></p>
      
  
    <div class="desc"><p>Common base class for all non-exit exceptions.</p></div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#csv.Error">Error</a></li>
          <li>builtins.Exception</li>
          <li>builtins.BaseException</li>
          <li>builtins.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="csv.Error.args" class="name">var <span class="ident">args</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="csv.Sniffer" class="name">class <span class="ident">Sniffer</span></p>
      
  
    <div class="desc"><p>"Sniffs" the format of a CSV file (i.e. delimiter, quotechar)
Returns a Dialect object.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.Sniffer', this);">Show source &equiv;</a></p>
  <div id="source-csv.Sniffer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Sniffer</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    &quot;Sniffs&quot; the format of a CSV file (i.e. delimiter, quotechar)</span>
<span class="sd">    Returns a Dialect object.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># in case there is more than one possible delimiter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preferred</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">]</span>


    <span class="k">def</span> <span class="nf">sniff</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="n">delimiters</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dialect (or None) corresponding to the sample</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">quotechar</span><span class="p">,</span> <span class="n">doublequote</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">,</span> <span class="n">skipinitialspace</span> <span class="o">=</span> \
                   <span class="bp">self</span><span class="o">.</span><span class="n">_guess_quote_and_delimiter</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">delimiters</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">delimiter</span><span class="p">:</span>
            <span class="n">delimiter</span><span class="p">,</span> <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guess_delimiter</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span>
                                                                <span class="n">delimiters</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">delimiter</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">Error</span><span class="p">(</span><span class="s2">&quot;Could not determine delimiter&quot;</span><span class="p">)</span>

        <span class="k">class</span> <span class="nc">dialect</span><span class="p">(</span><span class="n">Dialect</span><span class="p">):</span>
            <span class="n">_name</span> <span class="o">=</span> <span class="s2">&quot;sniffed&quot;</span>
            <span class="n">lineterminator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">&#39;</span>
            <span class="n">quoting</span> <span class="o">=</span> <span class="n">QUOTE_MINIMAL</span>
            <span class="c1"># escapechar = &#39;&#39;</span>

        <span class="n">dialect</span><span class="o">.</span><span class="n">doublequote</span> <span class="o">=</span> <span class="n">doublequote</span>
        <span class="n">dialect</span><span class="o">.</span><span class="n">delimiter</span> <span class="o">=</span> <span class="n">delimiter</span>
        <span class="c1"># _csv.reader won&#39;t accept a quotechar of &#39;&#39;</span>
        <span class="n">dialect</span><span class="o">.</span><span class="n">quotechar</span> <span class="o">=</span> <span class="n">quotechar</span> <span class="ow">or</span> <span class="s1">&#39;&quot;&#39;</span>
        <span class="n">dialect</span><span class="o">.</span><span class="n">skipinitialspace</span> <span class="o">=</span> <span class="n">skipinitialspace</span>

        <span class="k">return</span> <span class="n">dialect</span>


    <span class="k">def</span> <span class="nf">_guess_quote_and_delimiter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">delimiters</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Looks for text enclosed between two identical quotes</span>
<span class="sd">        (the probable quotechar) which are preceded and followed</span>
<span class="sd">        by the same character (the probable delimiter).</span>
<span class="sd">        For example:</span>
<span class="sd">                         ,&#39;some text&#39;,</span>
<span class="sd">        The quote with the most wins, same with the delimiter.</span>
<span class="sd">        If there is no quotechar the delimiter can&#39;t be determined</span>
<span class="sd">        this way.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">restr</span> <span class="ow">in</span> <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?P&lt;delim&gt;[^\w\n&quot;</span><span class="se">\&#39;</span><span class="s1">])(?P&lt;space&gt; ?)(?P&lt;quote&gt;[&quot;</span><span class="se">\&#39;</span><span class="s1">]).*?(?P=quote)(?P=delim)&#39;</span><span class="p">,</span> <span class="c1"># ,&quot;.*?&quot;,</span>
                      <span class="sa">r</span><span class="s1">&#39;(?:^|\n)(?P&lt;quote&gt;[&quot;</span><span class="se">\&#39;</span><span class="s1">]).*?(?P=quote)(?P&lt;delim&gt;[^\w\n&quot;</span><span class="se">\&#39;</span><span class="s1">])(?P&lt;space&gt; ?)&#39;</span><span class="p">,</span>   <span class="c1">#  &quot;.*?&quot;,</span>
                      <span class="sa">r</span><span class="s1">&#39;(?P&lt;delim&gt;[^\w\n&quot;</span><span class="se">\&#39;</span><span class="s1">])(?P&lt;space&gt; ?)(?P&lt;quote&gt;[&quot;</span><span class="se">\&#39;</span><span class="s1">]).*?(?P=quote)(?:$|\n)&#39;</span><span class="p">,</span>   <span class="c1"># ,&quot;.*?&quot;</span>
                      <span class="sa">r</span><span class="s1">&#39;(?:^|\n)(?P&lt;quote&gt;[&quot;</span><span class="se">\&#39;</span><span class="s1">]).*?(?P=quote)(?:$|\n)&#39;</span><span class="p">):</span>                            <span class="c1">#  &quot;.*?&quot; (no delim, no space)</span>
            <span class="n">regexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">restr</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
            <span class="n">matches</span> <span class="o">=</span> <span class="n">regexp</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">matches</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">matches</span><span class="p">:</span>
            <span class="c1"># (quotechar, doublequote, delimiter, skipinitialspace)</span>
            <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">quotes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">delims</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">spaces</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">groupindex</span> <span class="o">=</span> <span class="n">regexp</span><span class="o">.</span><span class="n">groupindex</span>
        <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">groupindex</span><span class="p">[</span><span class="s1">&#39;quote&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">key</span><span class="p">:</span>
                <span class="n">quotes</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">quotes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">groupindex</span><span class="p">[</span><span class="s1">&#39;delim&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="p">(</span><span class="n">delimiters</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">delimiters</span><span class="p">):</span>
                <span class="n">delims</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">delims</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">groupindex</span><span class="p">[</span><span class="s1">&#39;space&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">m</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>
                <span class="n">spaces</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">quotechar</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">quotes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">quotes</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">delims</span><span class="p">:</span>
            <span class="n">delim</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">delims</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">delims</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
            <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="n">delims</span><span class="p">[</span><span class="n">delim</span><span class="p">]</span> <span class="o">==</span> <span class="n">spaces</span>
            <span class="k">if</span> <span class="n">delim</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span> <span class="c1"># most likely a file with a single column</span>
                <span class="n">delim</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># there is *no* delimiter, it&#39;s a single column of quoted data</span>
            <span class="n">delim</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># if we see an extra quote between delimiters, we&#39;ve got a</span>
        <span class="c1"># double quoted format</span>
        <span class="n">dq_regexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
                               <span class="sa">r</span><span class="s2">&quot;((</span><span class="si">%(delim)s</span><span class="s2">)|^)\W*</span><span class="si">%(quote)s</span><span class="s2">[^</span><span class="si">%(delim)s</span><span class="s2">\n]*</span><span class="si">%(quote)s</span><span class="s2">[^</span><span class="si">%(delim)s</span><span class="s2">\n]*</span><span class="si">%(quote)s</span><span class="s2">\W*((</span><span class="si">%(delim)s</span><span class="s2">)|$)&quot;</span> <span class="o">%</span> \
                               <span class="p">{</span><span class="s1">&#39;delim&#39;</span><span class="p">:</span><span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">delim</span><span class="p">),</span> <span class="s1">&#39;quote&#39;</span><span class="p">:</span><span class="n">quotechar</span><span class="p">},</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>



        <span class="k">if</span> <span class="n">dq_regexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
            <span class="n">doublequote</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">doublequote</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">quotechar</span><span class="p">,</span> <span class="n">doublequote</span><span class="p">,</span> <span class="n">delim</span><span class="p">,</span> <span class="n">skipinitialspace</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_guess_delimiter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">delimiters</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The delimiter /should/ occur the same number of times on</span>
<span class="sd">        each row. However, due to malformed data, it may not. We don&#39;t want</span>
<span class="sd">        an all or nothing approach, so we allow for small variations in this</span>
<span class="sd">        number.</span>
<span class="sd">          1) build a table of the frequency of each character on every line.</span>
<span class="sd">          2) build a table of frequencies of this frequency (meta-frequency?),</span>
<span class="sd">             e.g.  &#39;x occurred 5 times in 10 rows, 6 times in 1000 rows,</span>
<span class="sd">             7 times in 2 rows&#39;</span>
<span class="sd">          3) use the mode of the meta-frequency to determine the /expected/</span>
<span class="sd">             frequency for that character</span>
<span class="sd">          4) find out how often the character actually meets that goal</span>
<span class="sd">          5) the character that best meets its goal is the delimiter</span>
<span class="sd">        For performance reasons, the data is evaluated in chunks, so it can</span>
<span class="sd">        try and evaluate the smallest portion of the data possible, evaluating</span>
<span class="sd">        additional chunks as necessary.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)))</span>

        <span class="n">ascii</span> <span class="o">=</span> <span class="p">[</span><span class="nb">chr</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">127</span><span class="p">)]</span> <span class="c1"># 7-bit ASCII</span>

        <span class="c1"># build frequency tables</span>
        <span class="n">chunkLength</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="n">iteration</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">charFrequency</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">modes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">delims</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">chunkLength</span>
        <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
            <span class="n">iteration</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">ascii</span><span class="p">:</span>
                    <span class="n">metaFrequency</span> <span class="o">=</span> <span class="n">charFrequency</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="p">{})</span>
                    <span class="c1"># must count even if frequency is 0</span>
                    <span class="n">freq</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
                    <span class="c1"># value is the mode</span>
                    <span class="n">metaFrequency</span><span class="p">[</span><span class="n">freq</span><span class="p">]</span> <span class="o">=</span> <span class="n">metaFrequency</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
                    <span class="n">charFrequency</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="o">=</span> <span class="n">metaFrequency</span>

            <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">charFrequency</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">charFrequency</span><span class="p">[</span><span class="n">char</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="c1"># get the mode of the frequencies</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="c1"># adjust the mode - subtract the sum of all</span>
                    <span class="c1"># other frequencies</span>
                    <span class="n">items</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">])</span>
                    <span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
                                   <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">modes</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="c1"># build a list of possible delimiters</span>
            <span class="n">modeList</span> <span class="o">=</span> <span class="n">modes</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="n">total</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">chunkLength</span> <span class="o">*</span> <span class="n">iteration</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)))</span>
            <span class="c1"># (rows of consistent data) / (number of rows) = 100%</span>
            <span class="n">consistency</span> <span class="o">=</span> <span class="mf">1.0</span>
            <span class="c1"># minimum consistency threshold</span>
            <span class="n">threshold</span> <span class="o">=</span> <span class="mf">0.9</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">delims</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">consistency</span> <span class="o">&gt;=</span> <span class="n">threshold</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">modeList</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">if</span> <span class="p">((</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">total</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">consistency</span> <span class="ow">and</span>
                            <span class="p">(</span><span class="n">delimiters</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">delimiters</span><span class="p">)):</span>
                            <span class="n">delims</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                <span class="n">consistency</span> <span class="o">-=</span> <span class="mf">0.01</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">delims</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">delim</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">delims</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span> <span class="o">==</span>
                                    <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%c</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="n">delim</span><span class="p">))</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">delim</span><span class="p">,</span> <span class="n">skipinitialspace</span><span class="p">)</span>

            <span class="c1"># analyze another chunkLength lines</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">end</span>
            <span class="n">end</span> <span class="o">+=</span> <span class="n">chunkLength</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">delims</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># if there&#39;s more than one, fall back to a &#39;preferred&#39; list</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">delims</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">delims</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">==</span>
                                        <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%c</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="n">d</span><span class="p">))</span>
                    <span class="k">return</span> <span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">skipinitialspace</span><span class="p">)</span>

        <span class="c1"># nothing else indicates a preference, pick the character that</span>
        <span class="c1"># dominates(?)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="n">v</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">delims</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="n">items</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">delim</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span> <span class="o">==</span>
                            <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%c</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="n">delim</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">delim</span><span class="p">,</span> <span class="n">skipinitialspace</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">has_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">):</span>
        <span class="c1"># Creates a dictionary of types of data in each column. If any</span>
        <span class="c1"># column is of a single type (say, integers), *except* for the first</span>
        <span class="c1"># row, then the first row is presumed to be labels. If the type</span>
        <span class="c1"># can&#39;t be determined, it is assumed to be a string in which case</span>
        <span class="c1"># the length of the string is the determining factor: if all of the</span>
        <span class="c1"># rows except for the first are the same length, it&#39;s a header.</span>
        <span class="c1"># Finally, a &#39;vote&#39; is taken at the end for each column, adding or</span>
        <span class="c1"># subtracting from the likelihood of the first row being a header.</span>

        <span class="n">rdr</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">sample</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">sniff</span><span class="p">(</span><span class="n">sample</span><span class="p">))</span>

        <span class="n">header</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">rdr</span><span class="p">)</span> <span class="c1"># assume first row is header</span>

        <span class="n">columns</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
        <span class="n">columnTypes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">columns</span><span class="p">):</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="n">checked</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rdr</span><span class="p">:</span>
            <span class="c1"># arbitrary number of rows to check, to keep it sane</span>
            <span class="k">if</span> <span class="n">checked</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">checked</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">!=</span> <span class="n">columns</span><span class="p">:</span>
                <span class="k">continue</span> <span class="c1"># skip rows that have irregular number of columns</span>

            <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">columnTypes</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>

                <span class="k">for</span> <span class="n">thisType</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">]:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">thisType</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
                        <span class="k">break</span>
                    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">OverflowError</span><span class="p">):</span>
                        <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># fallback to length of string</span>
                    <span class="n">thisType</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>

                <span class="k">if</span> <span class="n">thisType</span> <span class="o">!=</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="c1"># add new column type</span>
                        <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">thisType</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># type is inconsistent, remove column from</span>
                        <span class="c1"># consideration</span>
                        <span class="k">del</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>

        <span class="c1"># finally, compare results against first row and &quot;vote&quot;</span>
        <span class="c1"># on whether it&#39;s a header</span>
        <span class="n">hasHeader</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">colType</span> <span class="ow">in</span> <span class="n">columnTypes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">colType</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span> <span class="c1"># it&#39;s a length</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="n">col</span><span class="p">])</span> <span class="o">!=</span> <span class="n">colType</span><span class="p">:</span>
                    <span class="n">hasHeader</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">hasHeader</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># attempt typecast</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">colType</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                    <span class="n">hasHeader</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">hasHeader</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">hasHeader</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#csv.Sniffer">Sniffer</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="csv.Sniffer.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize self.  See help(type(self)) for accurate signature.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.Sniffer.__init__', this);">Show source &equiv;</a></p>
  <div id="source-csv.Sniffer.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># in case there is more than one possible delimiter</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">preferred</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="csv.Sniffer.has_header">
    <p>def <span class="ident">has_header</span>(</p><p>self, sample)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.Sniffer.has_header', this);">Show source &equiv;</a></p>
  <div id="source-csv.Sniffer.has_header" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">has_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">):</span>
    <span class="c1"># Creates a dictionary of types of data in each column. If any</span>
    <span class="c1"># column is of a single type (say, integers), *except* for the first</span>
    <span class="c1"># row, then the first row is presumed to be labels. If the type</span>
    <span class="c1"># can&#39;t be determined, it is assumed to be a string in which case</span>
    <span class="c1"># the length of the string is the determining factor: if all of the</span>
    <span class="c1"># rows except for the first are the same length, it&#39;s a header.</span>
    <span class="c1"># Finally, a &#39;vote&#39; is taken at the end for each column, adding or</span>
    <span class="c1"># subtracting from the likelihood of the first row being a header.</span>
    <span class="n">rdr</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">sample</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">sniff</span><span class="p">(</span><span class="n">sample</span><span class="p">))</span>
    <span class="n">header</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">rdr</span><span class="p">)</span> <span class="c1"># assume first row is header</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
    <span class="n">columnTypes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">columns</span><span class="p">):</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">checked</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rdr</span><span class="p">:</span>
        <span class="c1"># arbitrary number of rows to check, to keep it sane</span>
        <span class="k">if</span> <span class="n">checked</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">checked</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">!=</span> <span class="n">columns</span><span class="p">:</span>
            <span class="k">continue</span> <span class="c1"># skip rows that have irregular number of columns</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">columnTypes</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="k">for</span> <span class="n">thisType</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">thisType</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
                    <span class="k">break</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">OverflowError</span><span class="p">):</span>
                    <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># fallback to length of string</span>
                <span class="n">thisType</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">thisType</span> <span class="o">!=</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="c1"># add new column type</span>
                    <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">thisType</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># type is inconsistent, remove column from</span>
                    <span class="c1"># consideration</span>
                    <span class="k">del</span> <span class="n">columnTypes</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>
    <span class="c1"># finally, compare results against first row and &quot;vote&quot;</span>
    <span class="c1"># on whether it&#39;s a header</span>
    <span class="n">hasHeader</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">colType</span> <span class="ow">in</span> <span class="n">columnTypes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">colType</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span> <span class="c1"># it&#39;s a length</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="n">col</span><span class="p">])</span> <span class="o">!=</span> <span class="n">colType</span><span class="p">:</span>
                <span class="n">hasHeader</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">hasHeader</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># attempt typecast</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">colType</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">hasHeader</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">hasHeader</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">hasHeader</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="csv.Sniffer.sniff">
    <p>def <span class="ident">sniff</span>(</p><p>self, sample, delimiters=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns a dialect (or None) corresponding to the sample</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.Sniffer.sniff', this);">Show source &equiv;</a></p>
  <div id="source-csv.Sniffer.sniff" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">sniff</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="n">delimiters</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a dialect (or None) corresponding to the sample</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">quotechar</span><span class="p">,</span> <span class="n">doublequote</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">,</span> <span class="n">skipinitialspace</span> <span class="o">=</span> \
               <span class="bp">self</span><span class="o">.</span><span class="n">_guess_quote_and_delimiter</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">delimiters</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">delimiter</span><span class="p">:</span>
        <span class="n">delimiter</span><span class="p">,</span> <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guess_delimiter</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span>
                                                            <span class="n">delimiters</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">delimiter</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">Error</span><span class="p">(</span><span class="s2">&quot;Could not determine delimiter&quot;</span><span class="p">)</span>
    <span class="k">class</span> <span class="nc">dialect</span><span class="p">(</span><span class="n">Dialect</span><span class="p">):</span>
        <span class="n">_name</span> <span class="o">=</span> <span class="s2">&quot;sniffed&quot;</span>
        <span class="n">lineterminator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">&#39;</span>
        <span class="n">quoting</span> <span class="o">=</span> <span class="n">QUOTE_MINIMAL</span>
        <span class="c1"># escapechar = &#39;&#39;</span>
    <span class="n">dialect</span><span class="o">.</span><span class="n">doublequote</span> <span class="o">=</span> <span class="n">doublequote</span>
    <span class="n">dialect</span><span class="o">.</span><span class="n">delimiter</span> <span class="o">=</span> <span class="n">delimiter</span>
    <span class="c1"># _csv.reader won&#39;t accept a quotechar of &#39;&#39;</span>
    <span class="n">dialect</span><span class="o">.</span><span class="n">quotechar</span> <span class="o">=</span> <span class="n">quotechar</span> <span class="ow">or</span> <span class="s1">&#39;&quot;&#39;</span>
    <span class="n">dialect</span><span class="o">.</span><span class="n">skipinitialspace</span> <span class="o">=</span> <span class="n">skipinitialspace</span>
    <span class="k">return</span> <span class="n">dialect</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="csv.Sniffer.preferred" class="name">var <span class="ident">preferred</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="csv.excel" class="name">class <span class="ident">excel</span></p>
      
  
    <div class="desc"><p>Describe the usual properties of Excel-generated CSV files.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.excel', this);">Show source &equiv;</a></p>
  <div id="source-csv.excel" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">excel</span><span class="p">(</span><span class="n">Dialect</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Describe the usual properties of Excel-generated CSV files.&quot;&quot;&quot;</span>
    <span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
    <span class="n">quotechar</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span>
    <span class="n">doublequote</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">lineterminator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">&#39;</span>
    <span class="n">quoting</span> <span class="o">=</span> <span class="n">QUOTE_MINIMAL</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#csv.excel">excel</a></li>
          <li><a href="#csv.Dialect">Dialect</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="csv.excel.delimiter" class="name">var <span class="ident">delimiter</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#csv.Dialect">Dialect</a></code>.<code><a href="#csv.Dialect.delimiter">delimiter</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel.doublequote" class="name">var <span class="ident">doublequote</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel.escapechar" class="name">var <span class="ident">escapechar</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel.lineterminator" class="name">var <span class="ident">lineterminator</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel.quotechar" class="name">var <span class="ident">quotechar</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel.quoting" class="name">var <span class="ident">quoting</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel.skipinitialspace" class="name">var <span class="ident">skipinitialspace</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="csv.excel.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize self.  See help(type(self)) for accurate signature.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.excel.__init__', this);">Show source &equiv;</a></p>
  <div id="source-csv.excel.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">!=</span> <span class="n">Dialect</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_valid</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="csv.excel_tab" class="name">class <span class="ident">excel_tab</span></p>
      
  
    <div class="desc"><p>Describe the usual properties of Excel-generated TAB-delimited files.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.excel_tab', this);">Show source &equiv;</a></p>
  <div id="source-csv.excel_tab" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">excel_tab</span><span class="p">(</span><span class="n">excel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Describe the usual properties of Excel-generated TAB-delimited files.&quot;&quot;&quot;</span>
    <span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#csv.excel_tab">excel_tab</a></li>
          <li><a href="#csv.excel">excel</a></li>
          <li><a href="#csv.Dialect">Dialect</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="csv.excel_tab.delimiter" class="name">var <span class="ident">delimiter</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#csv.excel">excel</a></code>.<code><a href="#csv.excel.delimiter">delimiter</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel_tab.doublequote" class="name">var <span class="ident">doublequote</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel_tab.escapechar" class="name">var <span class="ident">escapechar</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel_tab.lineterminator" class="name">var <span class="ident">lineterminator</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel_tab.quotechar" class="name">var <span class="ident">quotechar</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel_tab.quoting" class="name">var <span class="ident">quoting</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.excel_tab.skipinitialspace" class="name">var <span class="ident">skipinitialspace</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="csv.excel_tab.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#csv.Dialect">Dialect</a></code>.<code><a href="#csv.Dialect.__init__">__init__</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Initialize self.  See help(type(self)) for accurate signature.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.excel_tab.__init__', this);">Show source &equiv;</a></p>
  <div id="source-csv.excel_tab.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">!=</span> <span class="n">Dialect</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_valid</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="csv.unix_dialect" class="name">class <span class="ident">unix_dialect</span></p>
      
  
    <div class="desc"><p>Describe the usual properties of Unix-generated CSV files.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.unix_dialect', this);">Show source &equiv;</a></p>
  <div id="source-csv.unix_dialect" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">unix_dialect</span><span class="p">(</span><span class="n">Dialect</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Describe the usual properties of Unix-generated CSV files.&quot;&quot;&quot;</span>
    <span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
    <span class="n">quotechar</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span>
    <span class="n">doublequote</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">skipinitialspace</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">lineterminator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="n">quoting</span> <span class="o">=</span> <span class="n">QUOTE_ALL</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#csv.unix_dialect">unix_dialect</a></li>
          <li><a href="#csv.Dialect">Dialect</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="csv.unix_dialect.delimiter" class="name">var <span class="ident">delimiter</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#csv.Dialect">Dialect</a></code>.<code><a href="#csv.Dialect.delimiter">delimiter</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.unix_dialect.doublequote" class="name">var <span class="ident">doublequote</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.unix_dialect.escapechar" class="name">var <span class="ident">escapechar</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.unix_dialect.lineterminator" class="name">var <span class="ident">lineterminator</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.unix_dialect.quotechar" class="name">var <span class="ident">quotechar</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.unix_dialect.quoting" class="name">var <span class="ident">quoting</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="csv.unix_dialect.skipinitialspace" class="name">var <span class="ident">skipinitialspace</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="csv.unix_dialect.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize self.  See help(type(self)) for accurate signature.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-csv.unix_dialect.__init__', this);">Show source &equiv;</a></p>
  <div id="source-csv.unix_dialect.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">!=</span> <span class="n">Dialect</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_valid</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.2</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
