

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>eflow.foundation.data_frame_types &mdash; eflow  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> eflow
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_analysis.feature_analysis.html">eflow.data_analysis.feature_analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_analysis.null_analysis.html">eflow.data_analysis.null_analysis</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_pipeline_segments.data_encoder.html">eflow.data_pipeline_segments.data_encoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_pipeline_segments.feature_data_cleaner.html">eflow.data_pipeline_segments.feature_data_cleaner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_pipeline_segments.feature_transformer.html">eflow.data_pipeline_segments.feature_transformer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_pipeline_segments.string_cleaner.html">eflow.data_pipeline_segments.string_cleaner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_pipeline_segments.type_fixer.html">eflow.data_pipeline_segments.type_fixer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.foundation.data_frame_types.html">eflow.foundation.data_frame_types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.foundation.data_pipeline.html">eflow.foundation.data_pipeline</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.model_analysis.classification_analysis.html">eflow.model_analysis.classification_analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.model_analysis.regression_analysis.html">eflow.model_analysis.regression_analysis</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">eflow</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>eflow.foundation.data_frame_types</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for eflow.foundation.data_frame_types</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">eflow.utils.sys_utils</span> <span class="kn">import</span> <span class="n">dict_to_json_file</span><span class="p">,</span><span class="n">json_file_to_dict</span>
<span class="kn">from</span> <span class="nn">eflow.utils.language_processing_utils</span> <span class="kn">import</span> <span class="n">get_synonyms</span>
<span class="kn">from</span> <span class="nn">eflow._hidden.custom_exceptions</span> <span class="kn">import</span> <span class="n">UnsatisfiedRequirments</span>
<span class="kn">from</span> <span class="nn">eflow._hidden.constants</span> <span class="kn">import</span> <span class="n">BOOL_STRINGS</span>

<span class="kn">import</span> <span class="nn">copy</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">dateutil</span> <span class="kn">import</span> <span class="n">parser</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">clear_output</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Eric Cacciavillani&quot;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s2">&quot;Copyright 2019, eFlow&quot;</span>
<span class="n">__credits__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Eric Cacciavillani&quot;</span><span class="p">]</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s2">&quot;MIT&quot;</span>
<span class="n">__maintainer__</span> <span class="o">=</span> <span class="s2">&quot;EricCacciavillani&quot;</span>
<span class="n">__email__</span> <span class="o">=</span> <span class="s2">&quot;eric.cacciavillani@gmail.com&quot;</span>


<div class="viewcode-block" id="DataFrameTypes"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes">[docs]</a><span class="k">class</span> <span class="nc">DataFrameTypes</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Separates the features based off of dtypes to better keep track of</span>
<span class="sd">        feature types and helps make type assertions.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">df</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">target_feature</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">ignore_nulls</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">fix_numeric_features</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">fix_string_features</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">notebook_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            df: pd.DataFrame</span>
<span class="sd">                Pandas dataframe object.</span>

<span class="sd">            target_feature: string</span>
<span class="sd">                If the project is using a supervised learning approach we can</span>
<span class="sd">                specify the target column. (Note: Not required)</span>

<span class="sd">            ignore_nulls: bool</span>
<span class="sd">                If set to true than a temporary dataframe is created with each</span>
<span class="sd">                feature removes it&#39;s nan values to assert what data type the series</span>
<span class="sd">                object would be without nans existing inside it.</span>

<span class="sd">            fix_numeric_features: bool</span>
<span class="sd">                Will attempt to convert all numeric features to the most proper</span>
<span class="sd">                numerical types.</span>

<span class="sd">            fix_string_features: bool</span>
<span class="sd">                Will attempt to convert all string features to ALL proper types.</span>

<span class="sd">            notebook_mode: bool</span>
<span class="sd">                Boolean value to determine if any notebook functions can be used here.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Init an empty dataframe</span>
        <span class="k">if</span> <span class="n">df</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({})</span>

        <span class="c1"># Grab features based on there types</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;bool&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;object&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;category&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;float&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

        <span class="n">null_features</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
        <span class="n">null_features</span><span class="p">[</span><span class="n">null_features</span> <span class="o">==</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">null_features</span><span class="p">[</span><span class="n">null_features</span> <span class="o">==</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span>

        <span class="k">del</span> <span class="n">null_features</span>

        <span class="c1"># Target feature for machine learning projects</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Feature&#39;s colors</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_color_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># Category/Label encoders</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># Feature values representation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_representation</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># Dummy encoded feature dictionaries</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__dummy_encoded_features</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># Feature&#39;s labels and bins</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__feature_labels_bins_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># Data type assertions without nulls</span>
        <span class="k">if</span> <span class="n">ignore_nulls</span> <span class="ow">and</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fix_nan_features</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

        <span class="c1"># Attempt to init target column</span>
        <span class="k">if</span> <span class="n">target_feature</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">target_feature</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="o">=</span> <span class="n">target_feature</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The given target feature: </span><span class="se">\&#39;</span><span class="si">{target_feature}</span><span class="se">\&#39;</span><span class="s2"> does not exist!&quot;</span><span class="p">)</span>

        <span class="c1"># Error checking; flag error; don&#39;t disrupt runtime</span>
        <span class="n">features_not_captured</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="n">all_features</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">)</span> <span class="o">|</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span> <span class="o">|</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span> <span class="o">|</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span> <span class="o">|</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span> <span class="o">|</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span>

        <span class="k">for</span> <span class="n">col_feature</span> <span class="ow">in</span> <span class="n">all_features</span><span class="p">:</span>
            <span class="n">features_not_captured</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">col_feature</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">features_not_captured</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ERROR UNKNOWN FEATURE(S) TYPE(S) FOUND!</span><span class="se">\n</span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">features_not_captured</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">fix_string_features</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fix_string_features</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                                     <span class="n">notebook_mode</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">fix_numeric_features</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fix_numeric_features</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                                      <span class="n">notebook_mode</span><span class="p">)</span>

    <span class="c1"># --- Getters ---</span>
<div class="viewcode-block" id="DataFrameTypes.numerical_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.numerical_features">[docs]</a>    <span class="k">def</span> <span class="nf">numerical_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Gets all numerical features chosen by the object.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an numerical (int/float/bool); then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all numerical features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tmp_set</span></div>

<div class="viewcode-block" id="DataFrameTypes.non_numerical_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.non_numerical_features">[docs]</a>    <span class="k">def</span> <span class="nf">non_numerical_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Gets all non-numerical features chosen by the object.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an numerical (int/float/bool); then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all non numerical features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_features</span><span class="p">()</span> <span class="o">^</span> <span class="bp">self</span><span class="o">.</span><span class="n">numerical_features</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tmp_set</span></div>

<div class="viewcode-block" id="DataFrameTypes.continuous_numerical_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.continuous_numerical_features">[docs]</a>    <span class="k">def</span> <span class="nf">continuous_numerical_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                      <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Gets all numerical features that are continuous (int/float).</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an numerical (int/float); then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all numerical features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tmp_set</span></div>

<div class="viewcode-block" id="DataFrameTypes.non_continuous_numerical_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.non_continuous_numerical_features">[docs]</a>    <span class="k">def</span> <span class="nf">non_continuous_numerical_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                          <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Gets all numerical features that are not continuous (bool)</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is a bool; then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all numerical features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tmp_set</span></div>

<div class="viewcode-block" id="DataFrameTypes.continuous_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.continuous_features">[docs]</a>    <span class="k">def</span> <span class="nf">continuous_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Gets all numerical features chosen by the object.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an numerical (int/float/time); then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all numerical features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tmp_set</span></div>

<div class="viewcode-block" id="DataFrameTypes.non_continuous_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.non_continuous_features">[docs]</a>    <span class="k">def</span> <span class="nf">non_continuous_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Gets all numerical features chosen by the object.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an numerical (int/float/time); then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all numerical features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_features</span><span class="p">()</span> <span class="o">^</span> <span class="bp">self</span><span class="o">.</span><span class="n">continuous_features</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tmp_set</span></div>

<div class="viewcode-block" id="DataFrameTypes.integer_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.integer_features">[docs]</a>    <span class="k">def</span> <span class="nf">integer_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            All integer features chosen by df_features.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an integer; then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all integer features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>
            <span class="n">tmp_set</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">)</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.float_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.float_features">[docs]</a>    <span class="k">def</span> <span class="nf">float_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            All float features chosen by df_features.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an float; then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all float features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>
            <span class="n">tmp_set</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="p">)</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.categorical_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.categorical_features">[docs]</a>    <span class="k">def</span> <span class="nf">categorical_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            All categorical features chosen by df_features.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an categorical; then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all categorical features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>
            <span class="n">tmp_set</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="p">)</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.string_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.string_features">[docs]</a>    <span class="k">def</span> <span class="nf">string_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            All string features chosen by df_features.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an string; then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all string features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>
            <span class="n">tmp_set</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="p">)</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.bool_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.bool_features">[docs]</a>    <span class="k">def</span> <span class="nf">bool_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            All bool features chosen by df_features.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an bool; then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all bool features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>
            <span class="n">tmp_set</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="p">)</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.datetime_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.datetime_features">[docs]</a>    <span class="k">def</span> <span class="nf">datetime_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            All datetime features chosen by df_features.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an datetime; then it will be ignored</span>
<span class="sd">                when passing back the set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a set of all datetime features chosen by the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>
            <span class="n">tmp_set</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="p">)</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">null_only_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>


        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>
            <span class="n">tmp_set</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span><span class="p">)</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span><span class="p">)</span>

<div class="viewcode-block" id="DataFrameTypes.all_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.all_features">[docs]</a>    <span class="k">def</span> <span class="nf">all_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                     <span class="n">exclude_target</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Returns all features found in the dataset.</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_target: bool</span>
<span class="sd">                If the target feature is an datetime; then it will be ignored</span>
<span class="sd">                when passing back the set.</span>
<span class="sd">        Returns:</span>
<span class="sd">            Returns all found features.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">all_features</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">)</span> <span class="o">|</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span> <span class="o">|</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span> <span class="o">|</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span> <span class="o">|</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span> <span class="o">|</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span>

        <span class="k">if</span> <span class="n">exclude_target</span><span class="p">:</span>
            <span class="n">tmp_set</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">all_features</span><span class="p">)</span>

            <span class="c1"># Target feature never init</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Target feature was never initialized&quot;</span><span class="p">)</span>

            <span class="c1"># Check if target exist in set</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="ow">in</span> <span class="n">tmp_set</span><span class="p">:</span>
                <span class="n">tmp_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">tmp_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">all_features</span><span class="p">)</span></div>


<div class="viewcode-block" id="DataFrameTypes.get_feature_type"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.get_feature_type">[docs]</a>    <span class="k">def</span> <span class="nf">get_feature_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Return&#39;s a feature&#39;s type as a string</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name: str</span>
<span class="sd">                The given&#39;s feature&#39;s name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Return&#39;s a feature&#39;s type as a string</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;float&quot;</span>

        <span class="k">elif</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;bool&quot;</span>

        <span class="k">elif</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;integer&quot;</span>

        <span class="k">elif</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;categorical&quot;</span>

        <span class="k">elif</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;string&quot;</span>

        <span class="k">elif</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;datetime&quot;</span>

        <span class="k">elif</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;null only&quot;</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Feature &#39;</span><span class="si">{feature_name}</span><span class="s2">&#39; can&#39;t be found in the set!&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.target_feature"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.target_feature">[docs]</a>    <span class="k">def</span> <span class="nf">target_feature</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Gets the target feature.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns the target feature.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">)</span></div>


<div class="viewcode-block" id="DataFrameTypes.get_label_decoder"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.get_label_decoder">[docs]</a>    <span class="k">def</span> <span class="nf">get_label_decoder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Gets the dict encoder for category to string relationship.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns the encoder dict object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.get_label_encoder"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.get_label_encoder">[docs]</a>    <span class="k">def</span> <span class="nf">get_label_encoder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Gets the dict encoder for string to category relationship.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns the encoder dict object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.get_feature_colors"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.get_feature_colors">[docs]</a>    <span class="k">def</span> <span class="nf">get_feature_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Get&#39;s the color values for that given feature.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name: str</span>
<span class="sd">                The given feature name of the</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns the value&#39;s color and dictionary; returns None if the feature name</span>
<span class="sd">            is not saved in the feature value color dict.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_color_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_color_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="DataFrameTypes.get_all_feature_colors"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.get_all_feature_colors">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_feature_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">           Get&#39;s the entire dict of the feature&#39;s value colors.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a copy of feature&#39;s value colors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_color_dict</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.get_feature_binning"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.get_feature_binning">[docs]</a>    <span class="k">def</span> <span class="nf">get_feature_binning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">           Get&#39;s the feature&#39;s bin and labels for that given feature.</span>

<span class="sd">       Args:</span>
<span class="sd">           feature_name: str</span>
<span class="sd">               The given feature name of the feature</span>

<span class="sd">       Returns:</span>
<span class="sd">           Returns the bin and labels for the given feature; returns None if</span>
<span class="sd">           the feature name is not saved in the feature value color dict.</span>
<span class="sd">       &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__feature_labels_bins_dict</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__feature_labels_bins_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="DataFrameTypes.get_all_feature_binning"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.get_all_feature_binning">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_feature_binning</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">           Get&#39;s the entire dict of the feature&#39;s bins and labels.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a copy of the labels and bins for the given feature.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__feature_labels_bins_dict</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.get_feature_value_representation"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.get_feature_value_representation">[docs]</a>    <span class="k">def</span> <span class="nf">get_feature_value_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Get&#39;s the entire dict of the feature&#39;s value colors.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns a copy of feature&#39;s value colors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_representation</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.get_dummy_encoded_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.get_dummy_encoded_features">[docs]</a>    <span class="k">def</span> <span class="nf">get_dummy_encoded_features</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Get&#39;s all dummy encoded relationships.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__dummy_encoded_features</span><span class="p">)</span></div>

    <span class="c1"># --- Setters and Appending ---</span>
<div class="viewcode-block" id="DataFrameTypes.set_target_feature"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.set_target_feature">[docs]</a>    <span class="k">def</span> <span class="nf">set_target_feature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Sets the value.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name:</span>
<span class="sd">                Set the target feature.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="DataFrameTypes.set_feature_to_bool"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.set_feature_to_bool">[docs]</a>    <span class="k">def</span> <span class="nf">set_feature_to_bool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Moves feature to bool set.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name:</span>
<span class="sd">                Feature name or a list of feature names to move to given set.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_feature</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.set_feature_to_integer"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.set_feature_to_integer">[docs]</a>    <span class="k">def</span> <span class="nf">set_feature_to_integer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Moves feature to integer set.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name:</span>
<span class="sd">                Feature name or a list of feature names to move to given set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_feature</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.set_feature_to_float"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.set_feature_to_float">[docs]</a>    <span class="k">def</span> <span class="nf">set_feature_to_float</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Moves feature to float set.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name:</span>
<span class="sd">                Feature name or a list of feature names to move to given set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_feature</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.set_feature_to_string"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.set_feature_to_string">[docs]</a>    <span class="k">def</span> <span class="nf">set_feature_to_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Moves feature to string set.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name:</span>
<span class="sd">                Feature name or a list of feature names to move to given set.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_feature</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.set_feature_to_categorical"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.set_feature_to_categorical">[docs]</a>    <span class="k">def</span> <span class="nf">set_feature_to_categorical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                   <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Moves feature to categorical set.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name:</span>
<span class="sd">                Feature name or a list of feature names to move to given set.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_feature</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.set_feature_to_datetime"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.set_feature_to_datetime">[docs]</a>    <span class="k">def</span> <span class="nf">set_feature_to_datetime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Moves feature to datetime set.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name:</span>
<span class="sd">                Feature name or a list of feature names to move to given set.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_feature</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>


<div class="viewcode-block" id="DataFrameTypes.set_feature_to_null_only_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.set_feature_to_null_only_features">[docs]</a>    <span class="k">def</span> <span class="nf">set_feature_to_null_only_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                          <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Moves feature to only null series data feature set.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name:</span>
<span class="sd">                Feature name or a list of feature names to move to given set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_feature</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">set_feature_binning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">feature_name</span><span class="p">,</span>
                            <span class="n">bins</span><span class="p">,</span>
                            <span class="n">labels</span><span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bins</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
            <span class="n">bins</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">bins</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__feature_labels_bins_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__feature_labels_bins_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">][</span><span class="s2">&quot;bins&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bins</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__feature_labels_bins_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">][</span><span class="s2">&quot;labels&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">labels</span>


<div class="viewcode-block" id="DataFrameTypes.add_new_bool_feature"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.add_new_bool_feature">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_bool_feature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Adds a new feature/feature(s) to the feature set bool</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name: str</span>
<span class="sd">                Name of the new feature</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.add_new_string_feature"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.add_new_string_feature">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_string_feature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Adds a new feature/feature(s) to the feature set string</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name: str</span>
<span class="sd">                Name of the new feature</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.add_new_integer_feature"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.add_new_integer_feature">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_integer_feature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Adds a new feature/feature(s) to the feature set integer</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name: str</span>
<span class="sd">                Name of the new feature</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.add_new_float_feature"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.add_new_float_feature">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_float_feature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Adds a new feature/feature(s) to the feature set float</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name: str</span>
<span class="sd">                Name of the new feature</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.add_new_categorical_feature"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.add_new_categorical_feature">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_categorical_feature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Adds a new feature/feature(s) to the feature set categorical</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name: str</span>
<span class="sd">                Name of the new feature</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.add_new_null_only_feature"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.add_new_null_only_feature">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_null_only_feature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Adds a new feature/feature(s) to the feature set null only features</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name: str</span>
<span class="sd">                Name of the new feature</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.add_new_datetime_feature"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.add_new_datetime_feature">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_datetime_feature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Adds a new feature/feature(s) to the feature set datetime</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name: str</span>
<span class="sd">                Name of the new feature</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">feature_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">feature_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.set_feature_colors"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.set_feature_colors">[docs]</a>    <span class="k">def</span> <span class="nf">set_feature_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">feature_value_color_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Passing in a dictionary of feature names to value to hex color to</span>
<span class="sd">            save to this object. Error checks the dict for proper values.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_value_color_dict:</span>
<span class="sd">                Dictionary of feature names to value to hex color.</span>
<span class="sd">                Ex: feature_value_color_dict[&quot;Sex&quot;][&quot;Male&quot;] = &quot;#ffffff&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># -----</span>
        <span class="k">for</span> <span class="n">feature_name</span><span class="p">,</span> <span class="n">color_dict</span> <span class="ow">in</span> <span class="n">feature_value_color_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_features</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The feature name &#39;</span><span class="si">{feature_name}</span><span class="s2">&#39; &quot;</span>
                                             <span class="o">+</span> <span class="s2">&quot;was not found in any of the past&quot;</span>
                                             <span class="s2">&quot; feature type sets!&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_name</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>

                <span class="c1"># -----</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">color_dict</span><span class="p">,</span><span class="nb">dict</span><span class="p">):</span>

                    <span class="k">for</span> <span class="n">feature_value</span><span class="p">,</span> <span class="n">hex_color</span> <span class="ow">in</span> <span class="n">color_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">hex_color</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                            <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The feature value must be a string; not a {type(hex_color)}&quot;</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_color_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">color_dict</span>

                <span class="c1"># -----</span>
                <span class="c1"># elif isinstance(color_dict, str):</span>
                <span class="c1">#     try:</span>
                <span class="c1">#         sns.color_palette(color_dict)</span>
                <span class="c1">#     except:</span>
                <span class="c1">#         raise ValueError(f&quot;The value {color_dict} is not a proper seaborn color template!&quot;)</span>
                <span class="c1">#</span>
                <span class="c1">#     self.__feature_value_color_dict[feature_name] = color_dict</span>

                <span class="c1"># -----</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span><span class="s2">&quot;Expected to extract out a &quot;</span>
                                                 <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;dict from the feature &#39;</span><span class="si">{feature_name}</span><span class="s2">&#39; &quot;</span>
                                                 <span class="o">+</span> <span class="s2">&quot;values with accoiated color hex &quot;</span>
                                                 <span class="s2">&quot;values. Instead was found to&quot;</span>
                                                 <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot; be a {type(color_dict)}.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expect the feature name to be a &quot;</span>
                                             <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;string instead was found to be {type(feature_name)}&quot;</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">set_feature_value_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                         <span class="n">feature_value_representation</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="n">feature_value_representation</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Feature value assertions must be of type string.&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_features</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{feature_name}</span><span class="s2">&#39; doesn&#39;t exist in any features.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_representation</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">feature_value_representation</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_feature_to_dummy_encoded</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                     <span class="n">feature_name</span><span class="p">,</span>
                                     <span class="n">dummy_encoded_list</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__dummy_encoded_features</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">dummy_encoded_list</span>

        <span class="k">for</span> <span class="n">bool_feature</span> <span class="ow">in</span> <span class="n">dummy_encoded_list</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bool_feature</span><span class="p">)</span>

    <span class="c1"># --- Functions ---</span>
    <span class="k">def</span> <span class="nf">feature_types_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">feature_types</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># -----</span>
        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="p">:</span>
            <span class="n">feature_types</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="p">:</span>
            <span class="n">feature_types</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bool&quot;</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">:</span>
            <span class="n">feature_types</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;integer&quot;</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="p">:</span>
            <span class="n">feature_types</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;float&quot;</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="p">:</span>
            <span class="n">feature_types</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;datetime&quot;</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="p">:</span>
            <span class="n">feature_types</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;categorical&quot;</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span><span class="p">:</span>
            <span class="n">feature_types</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;null_only&quot;</span>

        <span class="k">return</span> <span class="n">feature_types</span>

    <span class="k">def</span> <span class="nf">feature_types_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">features</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="n">feature_types</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

        <span class="c1"># -----</span>
        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="p">:</span>
            <span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="n">feature_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;string&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="p">:</span>
            <span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="n">feature_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;bool&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">:</span>
            <span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="n">feature_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;integer&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="p">:</span>
            <span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="n">feature_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="p">:</span>
            <span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="n">feature_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;datetime&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="p">:</span>
            <span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="n">feature_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span><span class="p">:</span>
            <span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="n">feature_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;null only&quot;</span><span class="p">)</span>

        <span class="n">dtypes_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Data Types&#39;</span><span class="p">:</span> <span class="n">feature_types</span><span class="p">})</span>
        <span class="n">dtypes_df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">features</span>
        <span class="n">dtypes_df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Features&quot;</span>

        <span class="k">return</span> <span class="n">dtypes_df</span>


    <span class="k">def</span> <span class="nf">remove_feature_from_dummy_encoded</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                          <span class="n">feature_name</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">bool_feature</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__dummy_encoded_features</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_feature</span><span class="p">(</span><span class="n">bool_feature</span><span class="p">)</span>

        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__dummy_encoded_features</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>


<div class="viewcode-block" id="DataFrameTypes.remove_feature"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.remove_feature">[docs]</a>    <span class="k">def</span> <span class="nf">remove_feature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">feature_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Removes a feature from one of the feature sets.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_name:</span>
<span class="sd">                The given feature name to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The feature </span><span class="si">{feature_name}</span><span class="s2"> doesn&#39;t exist inside any of DataFrameType&#39;s feature sets!!!&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.display_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.display_features">[docs]</a>    <span class="k">def</span> <span class="nf">display_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">display_dataframes</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                         <span class="n">notebook_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Display&#39;s the feature sets info.</span>

<span class="sd">        Args:</span>
<span class="sd">            display_dataframes:</span>
<span class="sd">                Creates a dataframe object to display feature information.</span>

<span class="sd">            notebook_mode:</span>
<span class="sd">                Determines if the dataframe can be displayed in a notebook</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Do a simple print of feature set info.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">display_dataframes</span><span class="p">:</span>

            <span class="c1"># -----</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;String Features: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="p">))</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Categorical Features: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="p">))</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------&quot;</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>

            <span class="c1"># -----</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bool Features: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="p">))</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------&quot;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Datetime Features: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="p">))</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------&quot;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>

            <span class="c1"># -----</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Numerical Features: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">))</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Integer Features: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">))</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Float Features: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="p">))</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------&quot;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Target Feature: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span><span class="p">))</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------&quot;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Null Only Feature: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__null_only_features</span><span class="p">))</span>

        <span class="c1"># Create dataframe object based on the feature sets.</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dtypes_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">feature_types_dataframe</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">notebook_mode</span><span class="p">:</span>
                <span class="n">display</span><span class="p">(</span><span class="n">dtypes_df</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">dtypes_df</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.fix_numeric_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.fix_numeric_features">[docs]</a>    <span class="k">def</span> <span class="nf">fix_numeric_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">df</span><span class="p">,</span>
                             <span class="n">notebook_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                             <span class="n">display_results</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Attempts to move numerical features to the correct types by</span>
<span class="sd">            following the given priority que:</span>
<span class="sd">                1. Bool</span>
<span class="sd">                2. Categorical</span>
<span class="sd">                3. Float</span>
<span class="sd">                4. Int</span>
<span class="sd">                5. Do nothing</span>
<span class="sd">        Args:</span>
<span class="sd">            df: pd.Dataframe</span>
<span class="sd">                Pandas Dataframe object to update to correct types.</span>

<span class="sd">            notebook_mode: bool</span>
<span class="sd">                Boolean value to determine if any notebook functions can be used here.</span>

<span class="sd">            display_results: bool</span>
<span class="sd">                Display the table in priority order with flags.</span>


<span class="sd">        Note -</span>
<span class="sd">            This will not actually update the given dataframe. This object is</span>
<span class="sd">            a abstract representation of the dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">features_flag_types</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">feature_name</span><span class="p">])</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="c1"># Ignore all string features</span>
                <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">string_features</span><span class="p">():</span>
                    <span class="k">continue</span>

                <span class="c1"># Features that must be these set types</span>
                <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">categorical_features</span><span class="p">():</span>
                    <span class="k">continue</span>

                <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bool_features</span><span class="p">():</span>
                    <span class="k">continue</span>

            <span class="n">feature_values</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">feature_name</span><span class="p">],</span>
                                 <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;coerce&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_values</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="c1"># Get flag&#39;s to push to priority que</span>
            <span class="n">flag_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
            <span class="n">flag_dict</span><span class="p">[</span><span class="s2">&quot;Bool&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_check</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span>
            <span class="n">numeric_flag</span><span class="p">,</span> <span class="n">float_flag</span><span class="p">,</span> <span class="n">int_flag</span><span class="p">,</span> <span class="n">category_flag</span> <span class="o">=</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">__numeric_check</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span>
            <span class="n">flag_dict</span><span class="p">[</span><span class="s2">&quot;Numeric&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">numeric_flag</span>
            <span class="n">flag_dict</span><span class="p">[</span><span class="s2">&quot;Float&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">float_flag</span>
            <span class="n">flag_dict</span><span class="p">[</span><span class="s2">&quot;Integer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">int_flag</span>
            <span class="n">flag_dict</span><span class="p">[</span><span class="s2">&quot;Categorical&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">category_flag</span>

            <span class="c1"># Pass the flag dictionary to later be processed by the priority que.</span>
            <span class="n">features_flag_types</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">flag_dict</span>

        <span class="c1"># Iterate on feature and changes based on priority que</span>
        <span class="k">for</span> <span class="n">feature_name</span><span class="p">,</span> <span class="n">flag_dict</span> <span class="ow">in</span> <span class="n">features_flag_types</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="c1"># -----</span>
            <span class="k">if</span> <span class="n">flag_dict</span><span class="p">[</span><span class="s2">&quot;Bool&quot;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_bool</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="c1"># -----</span>
            <span class="k">elif</span> <span class="n">flag_dict</span><span class="p">[</span><span class="s2">&quot;Categorical&quot;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_categorical</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="c1"># -----</span>
            <span class="k">elif</span> <span class="n">flag_dict</span><span class="p">[</span><span class="s2">&quot;Numeric&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">flag_dict</span><span class="p">[</span><span class="s2">&quot;Float&quot;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_float</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                    <span class="k">continue</span>

                <span class="k">elif</span> <span class="n">flag_dict</span><span class="p">[</span><span class="s2">&quot;Integer&quot;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_integer</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                    <span class="k">continue</span>

        <span class="k">if</span> <span class="n">display_results</span><span class="p">:</span>
            <span class="n">flag_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">features_flag_types</span><span class="p">,</span>
                                             <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">notebook_mode</span><span class="p">:</span>
                <span class="n">display</span><span class="p">(</span><span class="n">flag_df</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">flag_df</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.fix_string_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.fix_string_features">[docs]</a>    <span class="k">def</span> <span class="nf">fix_string_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">df</span><span class="p">,</span>
                            <span class="n">notebook_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Iterates through all string features and moves features to given types.</span>
<span class="sd">            May ask user question if it detects any conflicting string/numeric</span>
<span class="sd">            types.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: pd.Dataframe</span>
<span class="sd">                Pandas dataframe object.</span>

<span class="sd">            notebook_mode: bool</span>
<span class="sd">                Will use the &#39;clear_output&#39; notebook function if in notebook</span>
<span class="sd">                mode.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Store types to convert</span>
        <span class="n">type_conflict_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># Currently this only performs</span>
        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">string_features</span><span class="p">():</span>

            <span class="c1"># Float found</span>
            <span class="n">float_flag</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="c1"># Keep track of all numeric features</span>
            <span class="n">numeric_count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">numeric_values</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="c1"># Keep track of all string features</span>
            <span class="n">string_count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">string_values</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="c1"># Keep track fof all datetime features</span>
            <span class="n">datetime_count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">datetime_values</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="c1"># Iterate through value counts</span>
            <span class="k">for</span> <span class="n">val</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>

                <span class="n">numeric_check</span> <span class="o">=</span> <span class="kc">False</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                    <span class="n">numeric_check</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">pass</span>

                <span class="c1"># Numeric check</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span>
                                                        <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">numeric_check</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">numeric_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                    <span class="n">numeric_count</span> <span class="o">+=</span> <span class="n">count</span>

                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
                        <span class="n">float_flag</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">if</span> <span class="n">numeric_check</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                            <span class="n">float_flag</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="c1"># String/Datetime check</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>

                    <span class="n">datetime_found</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                        <span class="n">datetime_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                        <span class="n">datetime_count</span> <span class="o">+=</span> <span class="n">count</span>
                        <span class="n">datetime_found</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="k">pass</span>

                    <span class="k">if</span> <span class="ow">not</span> <span class="n">datetime_found</span><span class="p">:</span>
                        <span class="n">string_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                        <span class="n">string_count</span> <span class="o">+=</span> <span class="n">count</span>

            <span class="c1"># Must be a numeric type; find which type</span>
            <span class="k">if</span> <span class="n">numeric_count</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">string_count</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">datetime_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">float_flag</span><span class="p">:</span>
                    <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;float&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_check</span><span class="p">(</span><span class="n">numeric_values</span><span class="p">):</span>
                        <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bool&quot;</span>

                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_check</span><span class="p">(</span><span class="n">numeric_values</span><span class="p">):</span>
                        <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;category&quot;</span>

                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;integer&quot;</span>

            <span class="c1"># Must be a string type</span>
            <span class="k">elif</span> <span class="n">numeric_count</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">string_count</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">datetime_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_string_values_check</span><span class="p">(</span><span class="n">string_values</span><span class="p">):</span>
                    <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bool&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>

            <span class="c1"># Must be a datetime</span>
            <span class="k">elif</span> <span class="n">numeric_count</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">string_count</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">datetime_count</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;datetime&quot;</span>

            <span class="c1"># A conflict is found; have the user work it out.</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type conflict found!&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Feature Name: &#39;</span><span class="si">{feature_name}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---&quot;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>

                <span class="c1"># -----</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Numeric Value Info&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Numeric count: </span><span class="si">{numeric_count}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Numeric percentage: {(numeric_count / (numeric_count + string_count + datetime_count)) * 100:.3f}%&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Numeric values: </span><span class="si">{numeric_values}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="c1"># -----</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;String Value Info&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">String count: </span><span class="si">{string_count}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">String percentage: {(string_count / (numeric_count + string_count + datetime_count)) * 100:.3f}%&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">String values: </span><span class="si">{string_values}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="c1"># -----</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Datetime Value Info&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">String count: </span><span class="si">{datetime_count}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">String percentage: {(datetime_count / (numeric_count + string_count + datetime_count)) * 100:.3f}%&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">String values: </span><span class="si">{datetime_values}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="c1"># Get user input for handling</span>
                <span class="nb">print</span><span class="p">(</span>
                    <span class="s2">&quot;You can use the first character of the option for input.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">user_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span>
                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Move feature to numeric or string and replace any &quot;</span>
                    <span class="s2">&quot;conflicts with nulls.</span><span class="se">\n</span><span class="s2">* Numeric</span><span class="se">\n</span><span class="s2">* String</span><span class="se">\n</span><span class="s2">* Datetime</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;* Ignore</span><span class="se">\n</span><span class="s2">Input: &quot;</span><span class="p">)</span>
                <span class="n">user_input</span> <span class="o">=</span> <span class="n">user_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>


                <span class="c1"># Clear last user output. If in notebook mode. (A clean notebook is a happy notebook :).)</span>
                <span class="k">if</span> <span class="n">notebook_mode</span><span class="p">:</span>
                    <span class="n">clear_output</span><span class="p">()</span>

                <span class="c1"># -----</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">user_input</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ignoring feature &#39;</span><span class="si">{feature_name}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="c1"># -----</span>
                <span class="k">elif</span> <span class="n">user_input</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
                    <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>

                <span class="c1"># -----</span>
                <span class="k">elif</span> <span class="n">user_input</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;n&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">float_flag</span><span class="p">:</span>
                        <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;float&quot;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">numeric_values</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">numeric_values</span><span class="p">,</span>
                                                       <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;coerce&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_check</span><span class="p">(</span><span class="n">numeric_values</span><span class="p">):</span>
                            <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bool&quot;</span>

                        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_check</span><span class="p">(</span><span class="n">numeric_values</span><span class="p">):</span>
                            <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;category&quot;</span>

                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;integer&quot;</span>

                <span class="c1"># -----</span>
                <span class="k">elif</span> <span class="n">user_input</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
                    <span class="n">type_conflict_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;datetime&quot;</span>

                <span class="c1"># -----</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ignoring feature &#39;</span><span class="si">{feature_name}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Iterate on all features</span>
        <span class="k">for</span> <span class="n">feature_name</span><span class="p">,</span> <span class="n">feature_type</span> <span class="ow">in</span> <span class="n">type_conflict_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="n">moved_feature</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="n">feature_type</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">:</span>

                <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_string</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                    <span class="n">moved_feature</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">elif</span> <span class="n">feature_type</span> <span class="o">==</span> <span class="s2">&quot;datetime&quot;</span><span class="p">:</span>

                <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_datetime</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                    <span class="n">moved_feature</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">elif</span> <span class="n">feature_type</span> <span class="o">==</span> <span class="s2">&quot;integer&quot;</span><span class="p">:</span>

                <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_integer</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                    <span class="n">moved_feature</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">elif</span> <span class="n">feature_type</span> <span class="o">==</span> <span class="s2">&quot;category&quot;</span><span class="p">:</span>

                <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_categorical</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                    <span class="n">moved_feature</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">elif</span> <span class="n">feature_type</span> <span class="o">==</span> <span class="s2">&quot;bool&quot;</span><span class="p">:</span>

                <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_bool</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                    <span class="n">moved_feature</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">elif</span> <span class="n">feature_type</span> <span class="o">==</span> <span class="s2">&quot;float&quot;</span><span class="p">:</span>

                <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_float</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
                    <span class="n">moved_feature</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;An unknown type was passed!&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">moved_feature</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Moving feature &#39;</span><span class="si">{feature_name}</span><span class="s2">&#39; to type </span><span class="si">{feature_type}</span><span class="s2">.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.fix_nan_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.fix_nan_features">[docs]</a>    <span class="k">def</span> <span class="nf">fix_nan_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">df</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Attempts to get the data type of the feature if there were no nans</span>
<span class="sd">            inside it.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: pd.DataFrame</span>
<span class="sd">                Pandas Dataframe object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nan_features</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature</span> <span class="k">for</span> <span class="n">feature</span><span class="p">,</span> <span class="n">nan_found</span> <span class="ow">in</span>
                        <span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">nan_found</span><span class="p">]</span>

        <span class="c1"># The features that are found to be floats should partially merge with</span>
        <span class="c1"># features with nulls.</span>
        <span class="n">float_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;float&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="n">nan_features</span><span class="p">:</span>

            <span class="c1"># Ignore string features</span>
            <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="n">feature_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
                <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>

            <span class="c1"># Convert to bool if possible</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bool_check</span><span class="p">(</span><span class="n">feature_values</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_bool</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>

            <span class="c1"># Convert numeric to proper types (int,float,categorical)</span>
            <span class="k">elif</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="n">float_features</span><span class="p">:</span>

                <span class="n">numeric_flag</span><span class="p">,</span> <span class="n">float_flag</span><span class="p">,</span> <span class="n">int_flag</span><span class="p">,</span> <span class="n">category_flag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__numeric_check</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">numeric_flag</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">category_flag</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_categorical</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">int_flag</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_integer</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">float_flag</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">set_feature_to_float</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.create_json_file_representation"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.create_json_file_representation">[docs]</a>    <span class="k">def</span> <span class="nf">create_json_file_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                        <span class="n">directory_path</span><span class="p">,</span>
                                        <span class="n">filename</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Creates a json representation of the current objects feature sets</span>
<span class="sd">            and the targeted feature.</span>

<span class="sd">        Args:</span>
<span class="sd">            directory_path: string</span>
<span class="sd">                Absolute directory path.</span>

<span class="sd">            filename: string</span>
<span class="sd">                File&#39;s given name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">type_features</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bool_features</span><span class="p">():</span>
            <span class="k">if</span> <span class="s2">&quot;bool&quot;</span> <span class="ow">in</span> <span class="n">type_features</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;bool&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;bool&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">string_features</span><span class="p">():</span>
            <span class="k">if</span> <span class="s2">&quot;string&quot;</span> <span class="ow">in</span> <span class="n">type_features</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">integer_features</span><span class="p">():</span>
            <span class="k">if</span> <span class="s2">&quot;integer&quot;</span> <span class="ow">in</span> <span class="n">type_features</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;integer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;integer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">float_features</span><span class="p">():</span>
            <span class="k">if</span> <span class="s2">&quot;float&quot;</span> <span class="ow">in</span> <span class="n">type_features</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;float&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;float&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">categorical_features</span><span class="p">():</span>
            <span class="k">if</span> <span class="s2">&quot;categorical&quot;</span> <span class="ow">in</span> <span class="n">type_features</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;categorical&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;categorical&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime_features</span><span class="p">():</span>
            <span class="k">if</span> <span class="s2">&quot;datetime&quot;</span> <span class="ow">in</span> <span class="n">type_features</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_name</span><span class="p">]</span>

        <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span>

        <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;feature_labels_bins&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__feature_labels_bins_dict</span>

        <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;feature_values_colors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_color_dict</span>

        <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;feature_value_representation&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_representation</span>

        <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;label_encoder&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span>
        <span class="n">type_features</span><span class="p">[</span><span class="s2">&quot;label_decoder&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span>

        <span class="n">dict_to_json_file</span><span class="p">(</span><span class="n">type_features</span><span class="p">,</span>
                          <span class="n">directory_path</span><span class="p">,</span>
                          <span class="n">filename</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataFrameTypes.init_on_json_file"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.init_on_json_file">[docs]</a>    <span class="k">def</span> <span class="nf">init_on_json_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">filepath</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Initialize object based on a json file.</span>

<span class="sd">        Args:</span>
<span class="sd">            filepath:</span>
<span class="sd">                Absolute path to the given file.</span>

<span class="sd">        Note:</span>
<span class="sd">            Structure must be the given type to the list of associated features.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">type_features</span> <span class="o">=</span> <span class="n">json_file_to_dict</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>

        <span class="c1"># Reset all sets and target</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># -----</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_color_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># -----</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_representation</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="n">tmp_feature_value_color_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># Iterate through dict given types to feature lists</span>
        <span class="k">for</span> <span class="nb">type</span><span class="p">,</span> <span class="n">obj</span>  <span class="ow">in</span> <span class="n">type_features</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="k">if</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;bool&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__bool_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

            <span class="c1"># -----</span>
            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;integer&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__integer_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

            <span class="c1"># -----</span>
            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;float&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__float_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

            <span class="c1"># -----</span>
            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__string_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

            <span class="c1"># -----</span>
            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;categorical&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

            <span class="c1"># -----</span>
            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;datetime&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__datetime_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

            <span class="c1"># Extract target</span>
            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;target&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__target_feature</span> <span class="o">=</span> <span class="n">obj</span>

            <span class="c1"># Extract color dict.(Naming convention get&#39;s a little screwed up here.)</span>
            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;feature_values_colors&quot;</span><span class="p">:</span>
                <span class="n">tmp_feature_value_color_dict</span> <span class="o">=</span> <span class="n">obj</span>

            <span class="c1"># Extract out the feature value representation</span>
            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;feature_value_representation&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_representation</span> <span class="o">=</span> <span class="n">obj</span>

            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;label_decoder&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span> <span class="o">=</span> <span class="n">obj</span>

            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;label_encoder&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span> <span class="o">=</span> <span class="n">obj</span>

            <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;feature_labels_bins&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__feature_labels_bins_dict</span> <span class="o">=</span> <span class="n">obj</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown type </span><span class="si">{type}</span><span class="s2"> was found!&quot;</span><span class="p">)</span>

        <span class="c1"># Convert any values that are supposed to numeric back to numeric in colors</span>
        <span class="k">for</span> <span class="n">feature_name</span><span class="p">,</span><span class="n">value_color_dict</span> <span class="ow">in</span> <span class="n">tmp_feature_value_color_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_features</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown feature &#39;</span><span class="si">{feature_name}</span><span class="s2">&#39; found in color dict for features!&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">tmp_value_color_dict</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">value_color_dict</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">feature_val</span><span class="p">,</span><span class="n">color</span> <span class="ow">in</span> <span class="n">value_color_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">tmp_value_color_dict</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">feature_val</span><span class="p">)]</span> <span class="o">=</span> <span class="n">color</span>
                        <span class="k">del</span> <span class="n">tmp_value_color_dict</span><span class="p">[</span><span class="n">feature_val</span><span class="p">]</span>
                    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                        <span class="k">pass</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__feature_value_color_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp_value_color_dict</span>

        <span class="c1"># Converting to numeric on decoder&#39;s categories</span>
        <span class="n">tmp_decoder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span>
        <span class="k">for</span> <span class="n">feature_name</span><span class="p">,</span><span class="n">cat_val_dict</span> <span class="ow">in</span> <span class="n">tmp_decoder</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="n">cat_val_dict</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">cat_val_dict</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">cat</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cat_val_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span><span class="p">[</span><span class="n">feature_name</span><span class="p">][</span><span class="nb">int</span><span class="p">(</span><span class="n">cat</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span><span class="p">[</span><span class="n">feature_name</span><span class="p">][</span><span class="n">cat</span><span class="p">]</span>
                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span><span class="p">[</span><span class="n">feature_name</span><span class="p">][</span><span class="n">cat</span><span class="p">]</span></div>

<div class="viewcode-block" id="DataFrameTypes.set_encoder_for_features"><a class="viewcode-back" href="../../../_autosummary/eflow.foundation.data_frame_types.html#eflow.foundation.data_frame_types.DataFrameTypes.set_encoder_for_features">[docs]</a>    <span class="k">def</span> <span class="nf">set_encoder_for_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                 <span class="n">df</span><span class="p">,</span>
                                 <span class="n">categorical_value_dict</span><span class="o">=</span><span class="nb">dict</span><span class="p">()):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Create&#39;s encoder dict for strings and categories.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: pd.DataFrame</span>
<span class="sd">                Pandas dataframe.</span>

<span class="sd">            categorical_value_dict: dict</span>
<span class="sd">                Relationship between category and string label.</span>

<span class="sd">        Note:</span>
<span class="sd">            Can handle a feature that have categories and strings in same series.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">^</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_features</span><span class="p">()))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span><span class="s2">&quot;The given Dataframe&#39;s features should &quot;</span>
                                         <span class="s2">&quot;be the same as the features saved in &quot;</span>
                                         <span class="s2">&quot;the DataFrameTypes.&quot;</span><span class="p">)</span>
        <span class="c1"># Reset dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># Get all string and categorical features</span>
        <span class="n">categorical_string_features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">categorical_features</span><span class="p">()</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">string_features</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="n">categorical_string_features</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

            <span class="c1"># Order feature values</span>
            <span class="n">feature_values</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span>
                              <span class="n">df</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span>
                                  <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_list</span><span class="p">()]</span>
            <span class="n">feature_values</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

            <span class="c1"># Convert to category (int) if possible</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">feature_values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">feature_values</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">pass</span>

            <span class="c1"># Pre-defined category values</span>
            <span class="n">default_categories</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span>
                                                   <span class="nb">len</span><span class="p">(</span><span class="n">feature_values</span><span class="p">))]</span>

            <span class="c1"># Check if user defined any category to string relationships</span>
            <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="n">categorical_value_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">cat</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">categorical_value_dict</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

                    <span class="c1"># Error checks</span>
                    <span class="k">if</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Can&#39;t replace category value with empty space! Found on feature </span><span class="si">{feature_name}</span><span class="s2">&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Can&#39;t replace category value with a number based value! Found on feature </span><span class="si">{feature_name}</span><span class="s2">&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Category value must be a number based value! Found on feature </span><span class="si">{feature_name}</span><span class="s2">&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">feature_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__categorical_features</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">UnsatisfiedRequirments</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;User defined a feature name that doesn&#39;t appear to be a &#39;</span><span class="si">{feature_name}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span><span class="p">[</span><span class="n">feature_name</span><span class="p">][</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>

                    <span class="c1"># Remove category and label from collection objects</span>
                    <span class="k">if</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">default_categories</span><span class="p">:</span>
                        <span class="n">default_categories</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">feature_values</span><span class="p">:</span>
                        <span class="n">feature_values</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">feature_values</span><span class="p">:</span>
                        <span class="n">feature_values</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

            <span class="c1"># Encode strings and categories</span>
            <span class="n">cat_count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">feature_values</span><span class="p">:</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span><span class="p">[</span><span class="n">feature_name</span><span class="p">][</span><span class="n">val</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span><span class="p">[</span><span class="n">feature_name</span><span class="p">][</span><span class="n">val</span><span class="p">]</span> <span class="o">=</span> <span class="n">default_categories</span><span class="p">[</span>
                        <span class="n">cat_count</span><span class="p">]</span>
                    <span class="n">cat_count</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># Inverse dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">feature_name</span><span class="p">,</span> <span class="n">label_val_dict</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label_encoder</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">label_val_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__label_decoder</span><span class="p">[</span><span class="n">feature_name</span><span class="p">][</span><span class="n">cat</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span></div>

    <span class="k">def</span> <span class="nf">__bool_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                     <span class="n">feature_values</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Determines if the feature type of this column is a boolean based on</span>
<span class="sd">            the numeric values passed to it.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_values: collection</span>
<span class="sd">                Distinct values of the given feature.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns true or false if the values are boolean.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Convert to bool if possible</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="mf">0.0</span> <span class="ow">in</span> <span class="n">feature_values</span> <span class="ow">or</span> <span class="mf">1.0</span> <span class="ow">in</span> <span class="n">feature_values</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="c1"># Second bool check</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="mf">0.0</span> <span class="ow">in</span> <span class="n">feature_values</span> <span class="ow">and</span> <span class="mf">1.0</span> <span class="ow">in</span> <span class="n">feature_values</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">__bool_string_values_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                   <span class="n">feature_values</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Checks if a collection of strings can be considered a bool feature</span>
<span class="sd">            based on the amount of strings and the values of those strings.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_values: collection</span>
<span class="sd">                Collection object of strings.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns true or false if the values can be considered a bool.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">found_true_value</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">found_false_value</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">feature_values</span><span class="p">:</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">val</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

            <span class="c1"># Determine if val is true</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">found_true_value</span><span class="p">:</span>

                <span class="c1"># Check if the string already exist in the defined set</span>
                <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">BOOL_STRINGS</span><span class="o">.</span><span class="n">TRUE_STRINGS</span><span class="p">:</span>
                    <span class="n">found_true_value</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Attempt to find synonyms of the defined words to compare to</span>
                    <span class="c1"># the iterable string</span>
                    <span class="k">for</span> <span class="n">true_string</span> <span class="ow">in</span> <span class="n">BOOL_STRINGS</span><span class="o">.</span><span class="n">TRUE_STRINGS</span><span class="p">:</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">true_string</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
                            <span class="k">continue</span>

                        <span class="k">for</span> <span class="n">syn</span> <span class="ow">in</span> <span class="n">get_synonyms</span><span class="p">(</span><span class="n">true_string</span><span class="p">):</span>
                            <span class="k">if</span> <span class="n">syn</span> <span class="o">==</span> <span class="n">val</span><span class="p">:</span>
                                <span class="n">found_true_value</span> <span class="o">=</span> <span class="kc">True</span>
                                <span class="k">continue</span>

            <span class="c1"># -----</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">found_false_value</span><span class="p">:</span>

                <span class="c1"># -----</span>
                <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">BOOL_STRINGS</span><span class="o">.</span><span class="n">FALSE_STRINGS</span><span class="p">:</span>
                    <span class="n">found_false_value</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># -----</span>
                    <span class="k">for</span> <span class="n">false_string</span> <span class="ow">in</span> <span class="n">BOOL_STRINGS</span><span class="o">.</span><span class="n">FALSE_STRINGS</span><span class="p">:</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">false_string</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
                            <span class="k">continue</span>

                        <span class="k">for</span> <span class="n">syn</span> <span class="ow">in</span> <span class="n">get_synonyms</span><span class="p">(</span><span class="n">false_string</span><span class="p">):</span>
                            <span class="k">if</span> <span class="n">syn</span> <span class="o">==</span> <span class="n">val</span><span class="p">:</span>
                                <span class="n">found_false_value</span> <span class="o">=</span> <span class="kc">True</span>
                                <span class="k">continue</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">found_true_value</span> <span class="ow">and</span> <span class="n">found_false_value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">found_true_value</span> <span class="ow">or</span> <span class="n">found_false_value</span>

    <span class="k">def</span> <span class="nf">__categorical_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">feature_values</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Check to see if the feature&#39;s value can be consider a category.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_values:</span>
<span class="sd">                Distinct values of the given feature.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns true or false if the values can be categorical.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">feature_values</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">feature_values</span><span class="p">))</span>

        <span class="n">min_val</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span>
        <span class="n">max_val</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span> <span class="o">!=</span> <span class="p">((</span><span class="n">min_val</span> <span class="o">+</span> <span class="n">max_val</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span>
                <span class="nb">set</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__numeric_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">feature_values</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Checks if the features can be a numerical value and other numerical</span>
<span class="sd">            types like floats, ints, and categories.</span>

<span class="sd">        Args:</span>
<span class="sd">            feature_values:</span>
<span class="sd">                Distinct values of the given feature.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Boolean values return as such:</span>
<span class="sd">                numerical_check, float_check, int_check, categorical_check</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_values</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>


        <span class="c1"># -----</span>
        <span class="n">float_check</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">categorical_total_sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">categorical_check</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">feature_values</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">feature_values</span><span class="p">))</span>

        <span class="c1"># Iterate through all values</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">feature_values</span><span class="p">:</span>

            <span class="c1"># Ignore None values</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">val</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="n">categorical_check</span><span class="p">:</span>
                <span class="c1"># Check if float</span>
                <span class="n">str_val</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                <span class="n">tokens</span> <span class="o">=</span> <span class="n">str_val</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">float_check</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="n">categorical_check</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">categorical_total_sum</span> <span class="o">+=</span> <span class="n">val</span>
                    <span class="k">continue</span>

        <span class="c1"># Check if categorical</span>
        <span class="k">if</span> <span class="n">categorical_check</span><span class="p">:</span>

            <span class="n">min_val</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span>
            <span class="n">max_val</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">categorical_total_sum</span> <span class="o">!=</span> <span class="p">((</span><span class="n">min_val</span> <span class="o">+</span> <span class="n">max_val</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_values</span><span class="p">):</span>
                <span class="n">categorical_check</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">float_check</span><span class="p">,</span> <span class="ow">not</span> <span class="n">float_check</span><span class="p">,</span> <span class="n">categorical_check</span>


    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
               <span class="n">other</span><span class="p">):</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span><span class="n">DataFrameTypes</span><span class="p">):</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">feature_types_dict</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">feature_types_dict</span><span class="p">():</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_label_encoder</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_label_encoder</span><span class="p">():</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_label_decoder</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_label_decoder</span><span class="p">():</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_feature_colors</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_all_feature_colors</span><span class="p">():</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_feature_binning</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_all_feature_binning</span><span class="p">():</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_feature</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">target_feature</span><span class="p">():</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Eric Cacciavillani

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>