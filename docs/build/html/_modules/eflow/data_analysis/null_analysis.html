

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>eflow.data_analysis.null_analysis &mdash; eflow  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> eflow
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.auto_modeler.auto_cluster.html">AutoCluster</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_analysis.feature_analysis.html">FeatureAnalysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_analysis.null_analysis.html">NullAnalysis</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_pipeline_segments.data_encoder.html">DataEncoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_pipeline_segments.feature_data_cleaner.html">FeatureDataCleaner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_pipeline_segments.feature_transformer.html">FeatureTransformer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_pipeline_segments.string_cleaner.html">StringCleaner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.data_pipeline_segments.type_fixer.html">TypeFixer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.model_analysis.classification_analysis.html">ClassificationAnalysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/eflow.model_analysis.regression_analysis.html">RegressionAnalysis</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">eflow</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>eflow.data_analysis.null_analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for eflow.data_analysis.null_analysis</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">eflow._hidden.constants</span> <span class="kn">import</span> <span class="n">GRAPH_DEFAULTS</span>
<span class="kn">from</span> <span class="nn">eflow._hidden.custom_exceptions</span> <span class="kn">import</span> <span class="n">SnapshotMismatchError</span>
<span class="kn">from</span> <span class="nn">eflow._hidden.general_objects</span> <span class="kn">import</span> <span class="n">DataFrameSnapshot</span>
<span class="kn">from</span> <span class="nn">eflow._hidden.parent_objects</span> <span class="kn">import</span> <span class="n">DataAnalysis</span>
<span class="kn">from</span> <span class="nn">eflow.data_analysis.feature_analysis</span> <span class="kn">import</span> <span class="n">FeatureAnalysis</span>
<span class="kn">from</span> <span class="nn">eflow.utils.pandas_utils</span> <span class="kn">import</span> <span class="n">missing_values_table</span><span class="p">,</span> <span class="n">generate_meta_data</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">missingno</span> <span class="k">as</span> <span class="nn">msno</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">warnings</span>


<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Eric Cacciavillani&quot;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s2">&quot;Copyright 2019, eFlow&quot;</span>
<span class="n">__credits__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Eric Cacciavillani&quot;</span><span class="p">]</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s2">&quot;MIT&quot;</span>
<span class="n">__maintainer__</span> <span class="o">=</span> <span class="s2">&quot;EricCacciavillani&quot;</span>
<span class="n">__email__</span> <span class="o">=</span> <span class="s2">&quot;eric.cacciavillani@gmail.com&quot;</span>


<div class="viewcode-block" id="NullAnalysis"><a class="viewcode-back" href="../../../_autosummary_old/eflow.data_analysis.null_analysis.html#eflow.data_analysis.null_analysis.NullAnalysis">[docs]</a><span class="k">class</span> <span class="nc">NullAnalysis</span><span class="p">(</span><span class="n">DataAnalysis</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Analyzes a pandas dataframe&#39;s object for null data; creates visuals</span>
<span class="sd">        like graphs and tables.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">df_features</span><span class="p">,</span>
                 <span class="n">project_sub_dir</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                 <span class="n">project_name</span><span class="o">=</span><span class="s2">&quot;Missing Data&quot;</span><span class="p">,</span>
                 <span class="n">overwrite_full_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">notebook_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            df_features:</span>
<span class="sd">                Data</span>

<span class="sd">            project_sub_dir: string</span>
<span class="sd">                Appends to the absolute directory of the output folder</span>

<span class="sd">            project_name: string</span>
<span class="sd">                Creates a parent or &quot;project&quot; folder in which all sub-directories</span>
<span class="sd">                will be inner nested.</span>

<span class="sd">            overwrite_full_path: string</span>
<span class="sd">                Overwrites the path to the parent folder.</span>

<span class="sd">            notebook_mode: bool</span>
<span class="sd">                If in a python notebook display visualizations in the notebook.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">DataAnalysis</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{project_sub_dir}</span><span class="s1">/</span><span class="si">{project_name}</span><span class="s1">&#39;</span><span class="p">,</span>
                              <span class="n">overwrite_full_path</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__df_features</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">df_features</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__notebook_mode</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">notebook_mode</span><span class="p">)</span>

        <span class="c1"># Determines if the perform was called to see if we need to re-check</span>
        <span class="c1"># the dataframe.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__feature_analysis</span> <span class="o">=</span> <span class="n">FeatureAnalysis</span><span class="p">(</span><span class="n">df_features</span><span class="p">,</span>
                                                  <span class="n">project_name</span><span class="o">=</span><span class="n">project_name</span><span class="p">,</span>
                                                  <span class="n">project_sub_dir</span><span class="o">=</span><span class="n">project_sub_dir</span><span class="p">,</span>
                                                  <span class="n">notebook_mode</span><span class="o">=</span><span class="n">notebook_mode</span><span class="p">)</span>


<div class="viewcode-block" id="NullAnalysis.perform_analysis"><a class="viewcode-back" href="../../../_autosummary_old/eflow.data_analysis.null_analysis.html#eflow.data_analysis.null_analysis.NullAnalysis.perform_analysis">[docs]</a>    <span class="k">def</span> <span class="nf">perform_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">df</span><span class="p">,</span>
                         <span class="n">dataset_name</span><span class="p">,</span>
                         <span class="n">display_visuals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">save_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">display_print</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">null_features_only</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Perform all public methods of the NullAnalysis object.</span>
<span class="sd">            Except for feature_analysis_of_null_data.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: pd.Dataframe</span>
<span class="sd">                Pandas Dataframe object.</span>

<span class="sd">            dataset_name: string</span>
<span class="sd">                The dataset&#39;s name; this will create a sub-directory in which your</span>
<span class="sd">                generated graph will be inner-nested in.</span>

<span class="sd">            display_visuals: bool</span>
<span class="sd">                Boolean value to whether or not to display visualizations.</span>

<span class="sd">            display_print: bool</span>
<span class="sd">                Determines whether or not to print function&#39;s embedded print</span>
<span class="sd">                statements.</span>

<span class="sd">            save_file: bool</span>
<span class="sd">                Boolean value to whether or not to save the file.</span>

<span class="sd">            dataframe_snapshot: bool</span>
<span class="sd">                Boolean value to determine whether or not generate and compare a</span>
<span class="sd">                snapshot of the dataframe in the dataset&#39;s directory structure.</span>
<span class="sd">                Helps ensure that data generated in that directory is correctly</span>
<span class="sd">                associated to a dataframe.</span>

<span class="sd">            suppress_runtime_errors: bool</span>
<span class="sd">                If set to true; when generating any graphs will suppress any runtime</span>
<span class="sd">                errors so the program can keep running.</span>

<span class="sd">            null_features_only: bool</span>
<span class="sd">                Dataframe will pass on null features for the visualizations</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="n">df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

                <span class="c1"># All functionality is meaningless without getting past the</span>
                <span class="c1"># following check; exit function</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__check_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exiting perform data_analysis function call&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">None</span>

                <span class="k">if</span> <span class="n">dataframe_snapshot</span><span class="p">:</span>
                    <span class="n">df_snapshot</span> <span class="o">=</span> <span class="n">DataFrameSnapshot</span><span class="p">()</span>
                    <span class="n">df_snapshot</span><span class="o">.</span><span class="n">check_create_snapshot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                                                      <span class="bp">self</span><span class="o">.</span><span class="n">__df_features</span><span class="p">,</span>
                                                      <span class="n">directory_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
                                                      <span class="n">sub_dir</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{dataset_name}</span><span class="s2">/_Extras&quot;</span><span class="p">)</span>

                <span class="n">generate_meta_data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
                                   <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{dataset_name}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;/_Extras&quot;</span><span class="p">)</span>

                <span class="c1"># Set to true to represent the function call was made with perform</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">if</span> <span class="n">display_visuals</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="c1"># --------------------------------------</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">missing_values_table</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                                          <span class="n">dataset_name</span><span class="p">,</span>
                                          <span class="n">display_visuals</span><span class="o">=</span><span class="n">display_visuals</span><span class="p">,</span>
                                          <span class="n">save_file</span><span class="o">=</span><span class="n">save_file</span><span class="p">,</span>
                                          <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="n">dataframe_snapshot</span><span class="p">,</span>
                                          <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="n">suppress_runtime_errors</span><span class="p">,</span>
                                          <span class="n">display_print</span><span class="o">=</span><span class="n">display_print</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">display_visuals</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="c1"># --------------------------------------</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">plot_null_bar_graph</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                                         <span class="n">dataset_name</span><span class="p">,</span>
                                         <span class="n">null_features_only</span><span class="o">=</span><span class="n">null_features_only</span><span class="p">,</span>
                                         <span class="n">display_visuals</span><span class="o">=</span><span class="n">display_visuals</span><span class="p">,</span>
                                         <span class="n">save_file</span><span class="o">=</span><span class="n">save_file</span><span class="p">,</span>
                                         <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="n">suppress_runtime_errors</span><span class="p">,</span>
                                         <span class="n">display_print</span><span class="o">=</span><span class="n">display_print</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">display_visuals</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="c1"># --------------------------------------</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">plot_null_matrix_graph</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                                            <span class="n">dataset_name</span><span class="p">,</span>
                                            <span class="n">null_features_only</span><span class="o">=</span><span class="n">null_features_only</span><span class="p">,</span>
                                            <span class="n">display_visuals</span><span class="o">=</span><span class="n">display_visuals</span><span class="p">,</span>
                                            <span class="n">save_file</span><span class="o">=</span><span class="n">save_file</span><span class="p">,</span>
                                            <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="n">suppress_runtime_errors</span><span class="p">,</span>
                                            <span class="n">display_print</span><span class="o">=</span><span class="n">display_print</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">display_visuals</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="c1"># --------------------------------------</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">plot_null_heatmap_graph</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                                             <span class="n">dataset_name</span><span class="p">,</span>
                                             <span class="n">display_visuals</span><span class="o">=</span><span class="n">display_visuals</span><span class="p">,</span>
                                             <span class="n">save_file</span><span class="o">=</span><span class="n">save_file</span><span class="p">,</span>
                                             <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="n">suppress_runtime_errors</span><span class="p">,</span>
                                             <span class="n">display_print</span><span class="o">=</span><span class="n">display_print</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">display_visuals</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="c1"># --------------------------------------</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">plot_null_dendrogram_graph</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                                                <span class="n">dataset_name</span><span class="p">,</span>
                                                <span class="n">null_features_only</span><span class="o">=</span><span class="n">null_features_only</span><span class="p">,</span>
                                                <span class="n">display_visuals</span><span class="o">=</span><span class="n">display_visuals</span><span class="p">,</span>
                                                <span class="n">save_file</span><span class="o">=</span><span class="n">save_file</span><span class="p">,</span>
                                                <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="n">suppress_runtime_errors</span><span class="p">,</span>
                                                <span class="n">display_print</span><span class="o">=</span><span class="n">display_print</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="NullAnalysis.feature_analysis_of_null_data"><a class="viewcode-back" href="../../../_autosummary_old/eflow.data_analysis.null_analysis.html#eflow.data_analysis.null_analysis.NullAnalysis.feature_analysis_of_null_data">[docs]</a>    <span class="k">def</span> <span class="nf">feature_analysis_of_null_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                      <span class="n">df</span><span class="p">,</span>
                                      <span class="n">dataset_name</span><span class="p">,</span>
                                      <span class="n">target_features</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                      <span class="n">display_visuals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">display_print</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">save_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">aggregate_target_feature</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">selected_features</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                      <span class="n">extra_tables</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">statistical_analysis_on_aggregates</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">nan_features</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Performs all public methods that generate visualizations/insights</span>
<span class="sd">            that feature analysis uses on an aggregation of null data in a</span>
<span class="sd">            feature.</span>

<span class="sd">        Note:</span>
<span class="sd">            Pretty much my personal lazy button for running the entire object</span>
<span class="sd">            without specifying any method in particular.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: pd.Dataframe</span>
<span class="sd">                Pandas dataframe object</span>

<span class="sd">            dataset_name: string</span>
<span class="sd">                The dataset&#39;s name; this will create a sub-directory in which your</span>
<span class="sd">                generated graph will be inner-nested in.</span>

<span class="sd">            target_features: collection of string or None</span>
<span class="sd">                A feature name that both exists in the init df_features</span>
<span class="sd">                and the passed dataframe.</span>

<span class="sd">                Note</span>
<span class="sd">                    If init to &#39;None&#39; then df_features will try to extract out</span>
<span class="sd">                    the target feature.</span>

<span class="sd">            display_visuals: bool</span>
<span class="sd">                Boolean value to whether or not to display visualizations.</span>

<span class="sd">            display_print: bool</span>
<span class="sd">                Determines whether or not to print function&#39;s embedded print</span>
<span class="sd">                statements.</span>

<span class="sd">            save_file: bool</span>
<span class="sd">                Boolean value to whether or not to save the file.</span>

<span class="sd">            suppress_runtime_errors: bool</span>
<span class="sd">                If set to true; when generating any graphs will suppress any runtime</span>
<span class="sd">                errors so the program can keep running.</span>

<span class="sd">            extra_tables: bool</span>
<span class="sd">                When handling two types of features if set to true this will</span>
<span class="sd">                    generate any extra tables that might be helpful.</span>
<span class="sd">                    Note -</span>
<span class="sd">                        These graphics may create duplicates if you already applied</span>
<span class="sd">                        an aggregation in &#39;perform_analysis&#39;</span>

<span class="sd">            statistical_analysis_on_aggregates: bool</span>
<span class="sd">                If set to true then the function &#39;statistical_analysis_on_aggregates&#39;</span>
<span class="sd">                will run; which aggregates the data of the target feature either</span>
<span class="sd">                by discrete values or by binning/labeling continuous data.</span>

<span class="sd">            aggregate_target_feature: bool</span>
<span class="sd">                Aggregate the data of the target feature if the data is</span>
<span class="sd">                non-continuous data.</span>

<span class="sd">                Note</span>
<span class="sd">                    In the future I will have this also working with continuous</span>
<span class="sd">                    data.</span>

<span class="sd">            selected_features: collection object of features</span>
<span class="sd">                Will only focus on these selected feature&#39;s and will ignore</span>
<span class="sd">                the other given features.</span>

<span class="sd">            nan_features: collection of strings</span>
<span class="sd">                Features names that must contain nan data to aggregate on.</span>

<span class="sd">        Raises:</span>
<span class="sd">            If an empty dataframe is passed to this function or if the same</span>
<span class="sd">            dataframe is passed to it raise error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">target_features</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">target_features</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">nan_feature_name</span> <span class="ow">in</span> <span class="n">nan_features</span><span class="p">:</span>

            <span class="n">new_target_features</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">target_features</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">nan_feature_name</span> <span class="ow">in</span> <span class="n">new_target_features</span><span class="p">:</span>
                <span class="n">new_target_features</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">nan_feature_name</span><span class="p">)</span>

            <span class="c1"># No null data ignore feature</span>
            <span class="k">if</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">nan_feature_name</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No nan data found for </span><span class="si">{nan_feature_name}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Feature Analysis on data where </span><span class="si">{nan_feature_name}</span><span class="s2"> = NaN&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__feature_analysis</span><span class="o">.</span><span class="n">perform_analysis</span><span class="p">(</span>
                <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">nan_feature_name</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">nan_feature_name</span><span class="p">]),</span>
                <span class="n">dataset_name</span><span class="o">=</span><span class="n">dataset_name</span> <span class="o">+</span> <span class="s2">&quot;/Feature Analysis of Null Data/&quot;</span> <span class="o">+</span> <span class="n">nan_feature_name</span> <span class="o">+</span> <span class="s2">&quot; = NaN&quot;</span><span class="p">,</span>
                <span class="n">target_features</span><span class="o">=</span><span class="n">new_target_features</span><span class="p">,</span>
                <span class="n">display_visuals</span><span class="o">=</span><span class="n">display_visuals</span><span class="p">,</span>
                <span class="n">display_print</span><span class="o">=</span><span class="n">display_print</span><span class="p">,</span>
                <span class="n">save_file</span><span class="o">=</span><span class="n">save_file</span><span class="p">,</span>
                <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">aggregate_target_feature</span><span class="o">=</span><span class="n">aggregate_target_feature</span><span class="p">,</span>
                <span class="n">statistical_analysis_on_aggregates</span><span class="o">=</span><span class="n">statistical_analysis_on_aggregates</span><span class="p">,</span>
                <span class="n">selected_features</span><span class="o">=</span><span class="n">selected_features</span><span class="p">,</span>
                <span class="n">extra_tables</span><span class="o">=</span><span class="n">extra_tables</span><span class="p">)</span></div>


<div class="viewcode-block" id="NullAnalysis.plot_null_matrix_graph"><a class="viewcode-back" href="../../../_autosummary_old/eflow.data_analysis.null_analysis.html#eflow.data_analysis.null_analysis.NullAnalysis.plot_null_matrix_graph">[docs]</a>    <span class="k">def</span> <span class="nf">plot_null_matrix_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">df</span><span class="p">,</span>
                               <span class="n">dataset_name</span><span class="p">,</span>
                               <span class="n">display_visuals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                               <span class="n">display_print</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                               <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                               <span class="n">sub_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                               <span class="n">save_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                               <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                               <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                               <span class="n">null_features_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                               <span class="nb">filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                               <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                               <span class="n">p</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                               <span class="n">sort</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                               <span class="n">figsize</span><span class="o">=</span><span class="n">GRAPH_DEFAULTS</span><span class="o">.</span><span class="n">NULL_FIGSIZE</span><span class="p">,</span>
                               <span class="n">width_ratios</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                               <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">027</span><span class="p">,</span> <span class="o">.</span><span class="mi">184</span><span class="p">,</span> <span class="o">.</span><span class="mi">373</span><span class="p">),</span>
                               <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
                               <span class="n">labels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                               <span class="n">sparkline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                               <span class="n">inline</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                               <span class="n">freq</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Desc (Taken from missingno):</span>
<span class="sd">            A matrix visualization of the nullity of the given DataFrame then</span>
<span class="sd">            pushes the image to output folder.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: pd.Dataframe</span>
<span class="sd">                Pandas dataframe object</span>

<span class="sd">            dataset_name: string</span>
<span class="sd">                The dataset&#39;s name; this will create a sub-directory in which your</span>
<span class="sd">                generated graph will be inner-nested in.</span>

<span class="sd">            display_visuals: bool</span>
<span class="sd">                Boolean value to whether or not to display visualizations.</span>

<span class="sd">            display_print: bool</span>
<span class="sd">                Determines whether or not to print function&#39;s embedded print</span>
<span class="sd">                statements.</span>

<span class="sd">            save_file: bool</span>
<span class="sd">                Boolean value to whether or not to save the file.</span>

<span class="sd">            filename: string</span>
<span class="sd">                If set to &#39;None&#39; will default to a pre-defined string;</span>
<span class="sd">                unless it is set to an actual filename.</span>

<span class="sd">            sub_dir: string</span>
<span class="sd">                Specify the sub directory to append to the pre-defined folder path.</span>

<span class="sd">            dataframe_snapshot: bool</span>
<span class="sd">                Boolean value to determine whether or not generate and compare a</span>
<span class="sd">                snapshot of the dataframe in the dataset&#39;s directory structure.</span>
<span class="sd">                Helps ensure that data generated in that directory is correctly</span>
<span class="sd">                associated to a dataframe.</span>

<span class="sd">            suppress_runtime_errors: bool</span>
<span class="sd">                If set to true; when generating any graphs will suppress any runtime</span>
<span class="sd">                errors so the program can keep running.</span>

<span class="sd">            null_features_only: bool</span>
<span class="sd">                Dataframe will pass on null features for the visualizations</span>

<span class="sd">            Please read the offical documentation at for more about the parameters:</span>
<span class="sd">            Link: https://github.com/ResidentMario/missingno</span>

<span class="sd">            Note:</span>
<span class="sd">                Changed the default color of the bar graph because I thought it</span>
<span class="sd">                was ugly.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># All credit to the following author for making the &#39;missingno&#39; package</span>
        <span class="c1"># https://github.com/ResidentMario/missingno</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__check_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>

                    <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t create missing values table because&quot;</span>
                              <span class="s2">&quot; there is no missing data to display!&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">None</span>


            <span class="n">null_sorted_features</span><span class="p">,</span> <span class="n">null_features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sort_features_by_nulls</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">null_features_only</span><span class="p">:</span>
                <span class="n">selected_features</span> <span class="o">=</span> <span class="n">null_features</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">selected_features</span> <span class="o">=</span> <span class="n">null_sorted_features</span>

            <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Generating graph for null matrix graph...&quot;</span><span class="p">)</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
            <span class="n">msno</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">selected_features</span><span class="p">],</span>
                        <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
                        <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
                        <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">,</span>
                        <span class="n">sort</span><span class="o">=</span><span class="n">sort</span><span class="p">,</span>
                        <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                        <span class="n">width_ratios</span><span class="o">=</span><span class="n">width_ratios</span><span class="p">,</span>
                        <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
                        <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span>
                        <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
                        <span class="n">sparkline</span><span class="o">=</span><span class="n">sparkline</span><span class="p">,</span>
                        <span class="n">inline</span><span class="o">=</span><span class="n">inline</span><span class="p">,</span>
                        <span class="n">freq</span><span class="o">=</span><span class="n">freq</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="p">:</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;Missing data matrix graph&quot;</span>

            <span class="k">if</span> <span class="n">save_file</span><span class="p">:</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">sub_dir</span><span class="p">:</span>
                    <span class="n">sub_dir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{dataset_name}</span><span class="s2">/Graphics&quot;</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                    <span class="n">dataframe_snapshot</span> <span class="o">=</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">save_plot</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
                               <span class="n">df_features</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__df_features</span><span class="p">,</span>
                               <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
                               <span class="n">sub_dir</span><span class="o">=</span><span class="n">sub_dir</span><span class="p">,</span>
                               <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="n">dataframe_snapshot</span><span class="p">,</span>
                               <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="n">suppress_runtime_errors</span><span class="p">,</span>
                               <span class="n">meta_data</span><span class="o">=</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__notebook_mode</span> <span class="ow">and</span> <span class="n">display_visuals</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">SnapshotMismatchError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">suppress_runtime_errors</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Plot null matrix raised an error:</span><span class="se">\n</span><span class="s2">{str(e)}&quot;</span><span class="p">,</span>
                    <span class="ne">RuntimeWarning</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span></div>



<div class="viewcode-block" id="NullAnalysis.plot_null_bar_graph"><a class="viewcode-back" href="../../../_autosummary_old/eflow.data_analysis.null_analysis.html#eflow.data_analysis.null_analysis.NullAnalysis.plot_null_bar_graph">[docs]</a>    <span class="k">def</span> <span class="nf">plot_null_bar_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">df</span><span class="p">,</span>
                            <span class="n">dataset_name</span><span class="p">,</span>
                            <span class="n">display_visuals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">sub_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">save_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">display_print</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">null_features_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                            <span class="n">figsize</span><span class="o">=</span><span class="n">GRAPH_DEFAULTS</span><span class="o">.</span><span class="n">NULL_FIGSIZE</span><span class="p">,</span>
                            <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
                            <span class="n">labels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                            <span class="n">color</span><span class="o">=</span><span class="n">GRAPH_DEFAULTS</span><span class="o">.</span><span class="n">NULL_COLOR</span><span class="p">,</span>
                            <span class="n">inline</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                            <span class="nb">filter</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                            <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                            <span class="n">p</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                            <span class="n">sort</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Desc (Taken from missingno):</span>
<span class="sd">            A bar graph visualization of the nullity of the given DataFrame then</span>
<span class="sd">            pushes the image to output folder.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: pd.Dataframe</span>
<span class="sd">                Pandas dataframe object</span>

<span class="sd">            dataset_name: string</span>
<span class="sd">                The dataset&#39;s name; this will create a sub-directory in which your</span>
<span class="sd">                generated graph will be inner-nested in.</span>

<span class="sd">            display_visuals: bool</span>
<span class="sd">                Boolean value to whether or not to display visualizations.</span>

<span class="sd">            display_print: bool</span>
<span class="sd">                Determines whether or not to print function&#39;s embedded print</span>
<span class="sd">                statements.</span>

<span class="sd">            filename: string</span>
<span class="sd">                If set to &#39;None&#39; will default to a pre-defined string;</span>
<span class="sd">                unless it is set to an actual filename.</span>

<span class="sd">            save_file: bool</span>
<span class="sd">                Boolean value to whether or not to save the file.</span>

<span class="sd">            dataframe_snapshot: bool</span>
<span class="sd">                Boolean value to determine whether or not generate and compare a</span>
<span class="sd">                snapshot of the dataframe in the dataset&#39;s directory structure.</span>
<span class="sd">                Helps ensure that data generated in that directory is correctly</span>
<span class="sd">                associated to a dataframe.</span>

<span class="sd">            suppress_runtime_errors: bool</span>
<span class="sd">                If set to true; when generating any graphs will suppress any runtime</span>
<span class="sd">                errors so the program can keep running.</span>

<span class="sd">            null_features_only: bool</span>
<span class="sd">                Dataframe will pass on null features for the visualizations</span>

<span class="sd">            Please read the offical documentation for more about the parameters:</span>
<span class="sd">            Link - https://github.com/ResidentMario/missingno</span>

<span class="sd">            Note -</span>
<span class="sd">                Changed the default color of the bar graph because I thought it</span>
<span class="sd">                was ugly.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Credit to the following author for making the &#39;missingno&#39; package</span>
        <span class="c1"># https://github.com/ResidentMario/missingno</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__check_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t create missing values table because&quot;</span>
                              <span class="s2">&quot; there is no missing data to display!&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">None</span>

            <span class="n">null_sorted_features</span><span class="p">,</span> <span class="n">null_features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sort_features_by_nulls</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">null_features_only</span><span class="p">:</span>
                <span class="n">selected_features</span> <span class="o">=</span> <span class="n">null_features</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">selected_features</span> <span class="o">=</span> <span class="n">null_sorted_features</span>

            <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Generating graph for null bar graph...&quot;</span><span class="p">)</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">msno</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">selected_features</span><span class="p">],</span>
                          <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                          <span class="n">log</span><span class="o">=</span><span class="n">log</span><span class="p">,</span>
                          <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span>
                          <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
                          <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
                          <span class="n">inline</span><span class="o">=</span><span class="n">inline</span><span class="p">,</span>
                          <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
                          <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
                          <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">,</span>
                          <span class="n">sort</span><span class="o">=</span><span class="n">sort</span><span class="p">)</span>

            <span class="c1"># Annotation</span>
            <span class="n">props</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s1">&#39;round&#39;</span><span class="p">,</span>
                         <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;#FFFFFF&quot;</span><span class="p">,</span>
                         <span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span>
                    <span class="mf">1.13</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;Clean data is </span><span class="si">{df.shape[0]}</span><span class="s2"> entries&quot;</span><span class="p">,</span>
                    <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span>
                    <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                    <span class="n">size</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span>
                    <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
                    <span class="n">bbox</span><span class="o">=</span><span class="n">props</span><span class="p">)</span>

            <span class="c1"># Sets filename with a default name</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="p">:</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;Missing data bar graph&quot;</span>

            <span class="k">if</span> <span class="n">save_file</span><span class="p">:</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">sub_dir</span><span class="p">:</span>
                    <span class="n">sub_dir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{dataset_name}</span><span class="s2">/Graphics&quot;</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                    <span class="n">dataframe_snapshot</span> <span class="o">=</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">save_plot</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
                               <span class="n">df_features</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__df_features</span><span class="p">,</span>
                               <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
                               <span class="n">sub_dir</span><span class="o">=</span><span class="n">sub_dir</span><span class="p">,</span>
                               <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="n">dataframe_snapshot</span><span class="p">,</span>
                               <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="n">suppress_runtime_errors</span><span class="p">,</span>
                               <span class="n">meta_data</span><span class="o">=</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__notebook_mode</span> <span class="ow">and</span> <span class="n">display_visuals</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">SnapshotMismatchError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">suppress_runtime_errors</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Plot null bar graph raised an error:</span><span class="se">\n</span><span class="s2">{str(e)}&quot;</span><span class="p">,</span>
                    <span class="ne">RuntimeWarning</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span></div>

<div class="viewcode-block" id="NullAnalysis.plot_null_heatmap_graph"><a class="viewcode-back" href="../../../_autosummary_old/eflow.data_analysis.null_analysis.html#eflow.data_analysis.null_analysis.NullAnalysis.plot_null_heatmap_graph">[docs]</a>    <span class="k">def</span> <span class="nf">plot_null_heatmap_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                <span class="n">df</span><span class="p">,</span>
                                <span class="n">dataset_name</span><span class="p">,</span>
                                <span class="n">display_visuals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">sub_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">save_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                <span class="n">display_print</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                <span class="n">inline</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                <span class="nb">filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                <span class="n">p</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                <span class="n">sort</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">figsize</span><span class="o">=</span><span class="n">GRAPH_DEFAULTS</span><span class="o">.</span><span class="n">NULL_FIGSIZE</span><span class="p">,</span>
                                <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
                                <span class="n">labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdBu&#39;</span><span class="p">,</span>
                                <span class="n">vmin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
                                <span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                <span class="n">cbar</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Desc (Taken from missingno):</span>
<span class="sd">            Presents a `seaborn` heatmap visualization of nullity correlation</span>
<span class="sd">            in the given DataFrame.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: pd.Dataframe</span>
<span class="sd">                Pandas dataframe object</span>

<span class="sd">            dataset_name: string</span>
<span class="sd">                The dataset&#39;s name; this will create a sub-directory in which your</span>
<span class="sd">                generated graph will be inner-nested in.</span>

<span class="sd">            display_visuals: bool</span>
<span class="sd">                Boolean value to whether or not to display visualizations.</span>

<span class="sd">            display_print: bool</span>
<span class="sd">                Determines whether or not to print function&#39;s embedded print</span>
<span class="sd">                statements.</span>

<span class="sd">            filename: string</span>
<span class="sd">                If set to &#39;None&#39; will default to a pre-defined string;</span>
<span class="sd">                unless it is set to an actual filename.</span>

<span class="sd">            save_file: bool</span>
<span class="sd">                Boolean value to whether or not to save the file.</span>

<span class="sd">            dataframe_snapshot: bool</span>
<span class="sd">                Boolean value to determine whether or not generate and compare a</span>
<span class="sd">                snapshot of the dataframe in the dataset&#39;s directory structure.</span>
<span class="sd">                Helps ensure that data generated in that directory is correctly</span>
<span class="sd">                associated to a dataframe.</span>

<span class="sd">            suppress_runtime_errors: bool</span>
<span class="sd">                If set to true; when generating any graphs will suppress any runtime</span>
<span class="sd">                errors so the program can keep running.</span>

<span class="sd">            Please read the offical documentation for more about the parameters:</span>
<span class="sd">            Link: https://github.com/ResidentMario/missingno</span>

<span class="sd">            Note:</span>
<span class="sd">                Changed the default color of the bar graph because I thought it</span>
<span class="sd">                was ugly.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># All credit to the following author for making the &#39;missingno&#39; package</span>
        <span class="c1"># https://github.com/ResidentMario/missingno</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                <span class="c1"># Compares the json file snapshot to passed dataframe&#39;s snapshot</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__check_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t create missing values table because&quot;</span>
                              <span class="s2">&quot; there is no missing data to display!&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Generating graph for null heatmap...&quot;</span><span class="p">)</span>

            <span class="c1"># -----</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">msno</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                              <span class="n">inline</span><span class="o">=</span><span class="n">inline</span><span class="p">,</span>
                              <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
                              <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
                              <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">,</span>
                              <span class="n">sort</span><span class="o">=</span><span class="n">sort</span><span class="p">,</span>
                              <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                              <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span>
                              <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
                              <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span>
                              <span class="n">vmin</span><span class="o">=</span><span class="n">vmin</span><span class="p">,</span>
                              <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span><span class="p">,</span>
                              <span class="n">cbar</span><span class="o">=</span><span class="n">cbar</span><span class="p">)</span>

            <span class="c1"># bottom, top = ax.get_ylim()</span>
            <span class="c1"># ax.set_ylim(bottom + 0.5, top - 0.5)</span>

            <span class="c1"># Sets filename with a default name</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="p">:</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;Missing data heatmap graph&quot;</span>

            <span class="k">if</span> <span class="n">save_file</span><span class="p">:</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">sub_dir</span><span class="p">:</span>
                    <span class="n">sub_dir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{dataset_name}</span><span class="s2">/Graphics&quot;</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                    <span class="n">dataframe_snapshot</span> <span class="o">=</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">save_plot</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
                               <span class="n">df_features</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__df_features</span><span class="p">,</span>
                               <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
                               <span class="n">sub_dir</span><span class="o">=</span><span class="n">sub_dir</span><span class="p">,</span>
                               <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="n">dataframe_snapshot</span><span class="p">,</span>
                               <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="n">suppress_runtime_errors</span><span class="p">,</span>
                               <span class="n">meta_data</span><span class="o">=</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__notebook_mode</span> <span class="ow">and</span> <span class="n">display_visuals</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">SnapshotMismatchError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">suppress_runtime_errors</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Plot null heatmap raised an error:</span><span class="se">\n</span><span class="s2">{str(e)}&quot;</span><span class="p">,</span>
                    <span class="ne">RuntimeWarning</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span></div>


<div class="viewcode-block" id="NullAnalysis.plot_null_dendrogram_graph"><a class="viewcode-back" href="../../../_autosummary_old/eflow.data_analysis.null_analysis.html#eflow.data_analysis.null_analysis.NullAnalysis.plot_null_dendrogram_graph">[docs]</a>    <span class="k">def</span> <span class="nf">plot_null_dendrogram_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                   <span class="n">df</span><span class="p">,</span>
                                   <span class="n">dataset_name</span><span class="p">,</span>
                                   <span class="n">display_visuals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                   <span class="n">sub_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                   <span class="n">save_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">display_print</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">null_features_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">method</span><span class="o">=</span><span class="s1">&#39;average&#39;</span><span class="p">,</span>
                                   <span class="nb">filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                   <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                   <span class="n">p</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                   <span class="n">orientation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                   <span class="n">figsize</span><span class="o">=</span><span class="n">GRAPH_DEFAULTS</span><span class="o">.</span><span class="n">NULL_FIGSIZE</span><span class="p">,</span>
                                   <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
                                   <span class="n">inline</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="c1"># All credit to the following author for making the &#39;missingno&#39; package</span>
        <span class="c1"># https://github.com/ResidentMario/missingno</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Desc (Taken from missingno):</span>
<span class="sd">            Fits a `scipy` hierarchical clustering algorithm to the given</span>
<span class="sd">            DataFrame&#39;s variables and visualizes the results as</span>
<span class="sd">            a `scipy` dendrogram.</span>

<span class="sd">        Args:</span>
<span class="sd">            df:</span>
<span class="sd">                Pandas dataframe object</span>

<span class="sd">            dataset_name: string</span>
<span class="sd">                The dataset&#39;s name; this will create a sub-directory in which your</span>
<span class="sd">                generated graph will be inner-nested in.</span>

<span class="sd">            display_visuals: bool</span>
<span class="sd">                Boolean value to whether or not to display visualizations.</span>

<span class="sd">            display_print: bool</span>
<span class="sd">                Determines whether or not to print function&#39;s embedded print</span>
<span class="sd">                statements.</span>

<span class="sd">            filename: string</span>
<span class="sd">                If set to &#39;None&#39; will default to a pre-defined string;</span>
<span class="sd">                unless it is set to an actual filename.</span>

<span class="sd">            save_file: bool</span>
<span class="sd">                Boolean value to whether or not to save the file.</span>

<span class="sd">            dataframe_snapshot: bool</span>
<span class="sd">                Boolean value to determine whether or not generate and compare a</span>
<span class="sd">                snapshot of the dataframe in the dataset&#39;s directory structure.</span>
<span class="sd">                Helps ensure that data generated in that directory is correctly</span>
<span class="sd">                associated to a dataframe.</span>

<span class="sd">            suppress_runtime_errors: bool</span>
<span class="sd">                If set to true; when generating any graphs will suppress any runtime</span>
<span class="sd">                errors so the program can keep running.</span>

<span class="sd">            null_features_only: bool</span>
<span class="sd">                Dataframe will pass on only null features for the visualizations</span>

<span class="sd">            Please read the offical documentation for more about the parameters:</span>
<span class="sd">            Link: https://github.com/ResidentMario/missingno</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__check_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t create missing values table because&quot;</span>
                              <span class="s2">&quot; there is no missing data to display!&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">None</span>

            <span class="n">null_sorted_features</span><span class="p">,</span> <span class="n">null_features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sort_features_by_nulls</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">null_features_only</span><span class="p">:</span>
                <span class="n">selected_features</span> <span class="o">=</span> <span class="n">null_features</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">selected_features</span> <span class="o">=</span> <span class="n">null_sorted_features</span>

            <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Generating graph for null dendrogram graph...&quot;</span><span class="p">)</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
            <span class="n">msno</span><span class="o">.</span><span class="n">dendrogram</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">selected_features</span><span class="p">],</span>
                            <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
                            <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
                            <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
                            <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">,</span>
                            <span class="n">orientation</span><span class="o">=</span><span class="n">orientation</span><span class="p">,</span>
                            <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                            <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span>
                            <span class="n">inline</span><span class="o">=</span><span class="n">inline</span><span class="p">)</span>

            <span class="c1"># Sets filename with a default name</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="p">:</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Missing data dendrogram graph </span><span class="si">{method}</span><span class="s2">&quot;</span>

            <span class="k">if</span> <span class="n">save_file</span><span class="p">:</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">sub_dir</span><span class="p">:</span>
                    <span class="n">sub_dir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{dataset_name}</span><span class="s2">/Graphics&quot;</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                    <span class="n">dataframe_snapshot</span> <span class="o">=</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">save_plot</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
                               <span class="n">df_features</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__df_features</span><span class="p">,</span>
                               <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
                               <span class="n">sub_dir</span><span class="o">=</span><span class="n">sub_dir</span><span class="p">,</span>
                               <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="n">dataframe_snapshot</span><span class="p">,</span>
                               <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="n">suppress_runtime_errors</span><span class="p">,</span>
                               <span class="n">meta_data</span><span class="o">=</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">)</span>


            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__notebook_mode</span> <span class="ow">and</span> <span class="n">display_visuals</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">SnapshotMismatchError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">suppress_runtime_errors</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Plot null dendrogram raised an error:</span><span class="se">\n</span><span class="s2">{str(e)}&quot;</span><span class="p">,</span>
                    <span class="ne">RuntimeWarning</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span></div>

<div class="viewcode-block" id="NullAnalysis.missing_values_table"><a class="viewcode-back" href="../../../_autosummary_old/eflow.data_analysis.null_analysis.html#eflow.data_analysis.null_analysis.NullAnalysis.missing_values_table">[docs]</a>    <span class="k">def</span> <span class="nf">missing_values_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">df</span><span class="p">,</span>
                             <span class="n">dataset_name</span><span class="p">,</span>
                             <span class="n">display_visuals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                             <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                             <span class="n">sub_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                             <span class="n">save_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                             <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                             <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                             <span class="n">display_print</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Creates/Saves a Pandas DataFrame object giving the percentage of</span>
<span class="sd">            the null data for the original DataFrame columns.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: pd.Dataframe</span>
<span class="sd">                Pandas DataFrame object</span>

<span class="sd">            dataset_name: string</span>
<span class="sd">                The dataset&#39;s name; this will create a sub-directory in which your</span>
<span class="sd">                generated graph will be inner-nested in.</span>

<span class="sd">            display_visuals: bool</span>
<span class="sd">                Boolean value to whether or not to display visualizations.</span>

<span class="sd">            display_print: bool</span>
<span class="sd">                Determines whether or not to print function&#39;s embedded print</span>
<span class="sd">                statements.</span>

<span class="sd">            filename: string</span>
<span class="sd">                If set to &#39;None&#39; will default to a pre-defined string;</span>
<span class="sd">                unless it is set to an actual filename.</span>

<span class="sd">            save_file: bool</span>
<span class="sd">                Boolean value to whether or not to save the file.</span>

<span class="sd">            dataframe_snapshot: bool</span>
<span class="sd">                Boolean value to determine whether or not generate and compare a</span>
<span class="sd">                snapshot of the dataframe in the dataset&#39;s directory structure.</span>
<span class="sd">                Helps ensure that data generated in that directory is correctly</span>
<span class="sd">                associated to a dataframe.</span>

<span class="sd">            suppress_runtime_errors: bool</span>
<span class="sd">                If set to true; when generating any graphs will suppress any runtime</span>
<span class="sd">                errors so the program can keep running.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__check_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>

                    <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t create missing values table because&quot;</span>
                              <span class="s2">&quot; there is no missing data to display!&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating missing values table...&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__check_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

            <span class="n">mis_val_table_ren_columns</span> <span class="o">=</span> <span class="n">missing_values_table</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>


            <span class="k">if</span> <span class="n">display_print</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Your selected dataframe has {str(df.shape[1])} columns.</span><span class="se">\n</span><span class="s2">&quot;</span>
                      <span class="sa">f</span><span class="s2">&quot;It has {str(mis_val_table_ren_columns.shape[0])} columns missing data.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__notebook_mode</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">display_visuals</span><span class="p">:</span>
                    <span class="n">display</span><span class="p">(</span><span class="n">mis_val_table_ren_columns</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">display_visuals</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">mis_val_table_ren_columns</span><span class="p">)</span>

            <span class="c1"># Sets filename with a default name</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="p">:</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;Missing Data Table&quot;</span>

            <span class="c1"># ---</span>
            <span class="k">if</span> <span class="n">save_file</span><span class="p">:</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">sub_dir</span><span class="p">:</span>
                    <span class="n">sub_dir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{dataset_name}</span><span class="s2">/Tables&quot;</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__called_from_perform</span><span class="p">:</span>
                    <span class="n">dataframe_snapshot</span> <span class="o">=</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">save_table_as_plot</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
                                        <span class="n">df_features</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__df_features</span><span class="p">,</span>
                                        <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
                                        <span class="n">show_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                        <span class="n">sub_dir</span><span class="o">=</span><span class="n">sub_dir</span><span class="p">,</span>
                                        <span class="n">dataframe_snapshot</span><span class="o">=</span><span class="n">dataframe_snapshot</span><span class="p">,</span>
                                        <span class="n">suppress_runtime_errors</span><span class="o">=</span><span class="n">suppress_runtime_errors</span><span class="p">,</span>
                                        <span class="n">table</span><span class="o">=</span><span class="n">mis_val_table_ren_columns</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">SnapshotMismatchError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">suppress_runtime_errors</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Missing data table raised an error:</span><span class="se">\n</span><span class="s2">{str(e)}&quot;</span><span class="p">,</span>
                    <span class="ne">RuntimeWarning</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span></div>



    <span class="k">def</span> <span class="nf">__check_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">df</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            df: pd.Dataframe</span>
<span class="sd">                Pandas Dataframe object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns backs a bool to determine whether or not to null analysis</span>
<span class="sd">            method should work with it.</span>

<span class="sd">        Note:</span>
<span class="sd">            I only made this function in case I needed to do more error checks</span>
<span class="sd">            in the future.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">passed_check</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">()</span> <span class="ow">or</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">passed_check</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">passed_check</span>

    <span class="k">def</span> <span class="nf">__sort_features_by_nulls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                 <span class="n">df</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">            Sorts a dataframe by data containing the most nulls to least nulls.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: pd.Dataframe</span>
<span class="sd">                Pandas Dataframe object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Returns back the sorted order of features and the features that</span>
<span class="sd">            contain null.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Perform sort of nulls</span>
        <span class="n">features</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">null_values</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">null_values</span><span class="p">,</span> <span class="n">null_sorted_features</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="nb">sorted</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">null_values</span><span class="p">,</span>
                                                            <span class="n">features</span><span class="p">)))</span>

        <span class="c1"># Get list and reverse sequence</span>
        <span class="n">null_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">null_values</span><span class="p">)</span>
        <span class="n">null_sorted_features</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">null_sorted_features</span><span class="p">)</span>

        <span class="n">null_sorted_features</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="n">null_values</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="c1"># -------------------------------------</span>

        <span class="c1"># Iterate until through feature values until no nulls feature is found</span>
        <span class="k">for</span> <span class="n">feature_index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">null_values</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="n">null_features</span> <span class="o">=</span> <span class="n">null_sorted_features</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">feature_index</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">null_sorted_features</span><span class="p">,</span> <span class="n">null_features</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Eric Cacciavillani

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>